nohup: ignoring input
[2022-12-08 21:13:51.708] [info] QueryRankSampleUniformIntLREstimate dataset_name yahoomusic_big_more_query, dataset_dir /home/zhengbian/Dataset/ReverseMIPS
[2022-12-08 21:13:51.708] [info] index_dir /home/zhengbian/reverse-k-ranks/index
[2022-12-08 21:13:56.424] [info] n_data_item 135736, n_query_item 1000, n_user 1823179, vec_dim 150
[2022-12-08 21:13:56.424] [info] input parameter: n_sample 588 n_sample_query 5000 sample_topk 10
[2022-12-08 21:13:57.308] [info] index path /home/zhengbian/reverse-k-ranks/index/memory_index/QueryRankSampleIntLR-yahoomusic_big_more_query-n_sample_588-n_sample_query_5000-sample_topk_10.index
0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 16 18 19 21 23 25 27 29 31 33 35 37 39 41 43 45 48 50 53 56 59 62 65 68 71 75 78 80 83 86 89 92 96 101 104 108 112 116 121 125 128 133 138 143 147 152 157 161 165 169 174 179 183 188 193 198 203 210 217 222 228 234 240 246 253 259 266 272 279 288 296 303 311 317 324 332 342 349 357 364 371 381 388 396 404 413 422 431 439 449 459 468 478 488 500 511 522 535 543 552 560 569 578 592 603 619 626 635 646 654 662 672 684 699 711 721 732 743 754 764 777 789 800 818 834 847 861 875 890 907 924 938 956 974 991 1009 1021 1042 1053 1065 1084 1097 1116 1129 1153 1169 1189 1223 1243 1266 1283 1299 1315 1334 1352 1369 1392 1421 1446 1481 1505 1532 1550 1575 1598 1619 1638 1663 1679 1696 1727 1744 1778 1803 1830 1852 1879 1908 1925 1949 1969 1994 2018 2029 2073 2092 2124 2144 2168 2184 2232 2256 2287 2321 2343 2377 2396 2425 2447 2483 2530 2550 2569 2617 2659 2687 2714 2748 2769 2812 2851 2879 2904 2960 3006 3041 3074 3122 3168 3202 3231 3257 3304 3351 3382 3440 3462 3500 3524 3583 3626 3650 3687 3731 3754 3805 3859 3913 3952 4001 4038 4088 4159 4211 4266 4308 4351 4384 4409 4465 4500 4543 4608 4646 4711 4740 4819 4899 4933 4981 5029 5077 5130 5171 5211 5247 5342 5430 5514 5539 5620 5661 5778 5843 5917 5977 6010 6074 6143 6182 6228 6312 6332 6394 6461 6506 6532 6584 6670 6718 6772 6867 6966 7040 7110 7217 7271 7362 7416 7467 7571 7678 7728 7771 7827 7881 7936 8035 8107 8171 8257 8323 8432 8562 8637 8756 8789 8953 9039 9070 9163 9232 9303 9430 9494 9571 9655 9766 9830 9931 10016 10080 10174 10319 10390 10458 10523 10635 10790 10868 10986 11092 11173 11245 11347 11577 11654 11793 11881 12014 12223 12266 12382 12460 12559 12671 12825 12870 12960 13049 13094 13292 13429 13483 13595 13635 13700 13755 13822 14077 14128 14315 14445 14514 14572 14776 14899 15100 15160 15347 15426 15540 15721 16043 16700 16861 16945 17272 17303 17442 17546 17663 17927 18063 18170 18266 18471 18788 18870 19006 19125 19186 19318 19474 19550 20218 20322 20388 20605 20631 21095 21158 21370 21486 21569 21666 21776 22169 22333 22480 22811 23262 23427 23581 23732 23903 24274 24279 24747 24945 25096 25549 25786 25945 26104 26144 26287 26539 26892 27055 27162 27356 27408 27721 27877 27978 28205 28440 28733 28805 29066 29235 29528 30083 30126 30265 30516 30999 31413 31616 31644 32034 32199 32811 33100 33234 34355 34827 35546 36303 36508 37454 37570 37615 37729 38496 38789 38937 39258 40138 40623 40889 40970 41107 41607 41642 42144 42432 42520 42662 42775 42844 43064 43171 43423 43432 44152 45121 45661 45775 46354 46635 46917 47419 47833 48300 48340 49348 49748 49910 50410 50999 51846 51878 52580 53088 53174 53287 53694 53950 54230 54764 55284 55587 56437 56473 56602 56747 57159 57309 57540 57917 58368 58572 59930 60019 60181 60250 60358 61511 61865 61914 62154 62219 62363 62715 63273 63562 64353 64571 64636 64877 65169 65391 65476 65560 66357 66436 66942 66986 67166 67289 67532 68589 70273 70318 70887 71684 74375 74662 75620 77156 78834 
[2022-12-08 21:14:02.404] [info] index path /home/zhengbian/reverse-k-ranks/index/memory_index/UniformLinearRegression-yahoomusic_big_more_query-n_sample_588-n_sample_query_5000-sample_topk_10.index
[2022-12-08 21:14:02.479] [info] finish preprocess and save the index
[2022-12-08 21:33:05.094] [info] finish top-250
[2022-12-08 21:33:05.094] [info] top250 retrieval time: total 1142.610s, total predict 1142.610s
	inner product 103.688s, rank bound 26.139s, prune user 19.505s, read disk 991.566s, compute rank 0.171s
	total ip cost 13880785, total predict io cost 0, total refine io cost 5462746240, total refine user 117905, IP bound prune ratio 0.9924, rank prune ratio 0.9999
[2022-12-08 21:51:37.245] [info] finish top-200
[2022-12-08 21:51:37.245] [info] top200 retrieval time: total 1112.149s, total predict 1112.149s
	inner product 102.758s, rank bound 25.821s, prune user 19.276s, read disk 962.609s, compute rank 0.165s
	total ip cost 12600795, total predict io cost 0, total refine io cost 5460274432, total refine user 114112, IP bound prune ratio 0.9931, rank prune ratio 0.9999
[2022-12-08 22:07:31.790] [info] finish top-150
[2022-12-08 22:07:31.790] [info] top150 retrieval time: total 954.542s, total predict 954.542s
	inner product 101.990s, rank bound 25.623s, prune user 18.980s, read disk 806.320s, compute rank 0.138s
	total ip cost 11155222, total predict io cost 0, total refine io cost 4601906304, total refine user 95020, IP bound prune ratio 0.9939, rank prune ratio 0.9999
[2022-12-08 22:18:49.117] [info] finish top-100
[2022-12-08 22:18:49.117] [info] top100 retrieval time: total 677.325s, total predict 677.325s
	inner product 99.304s, rank bound 25.020s, prune user 18.670s, read disk 532.825s, compute rank 0.075s
	total ip cost 9464325, total predict io cost 0, total refine io cost 2938779648, total refine user 62249, IP bound prune ratio 0.9948, rank prune ratio 1.0000
[2022-12-08 22:28:11.243] [info] finish top-50
[2022-12-08 22:28:11.244] [info] top50 retrieval time: total 562.126s, total predict 562.126s
	inner product 97.426s, rank bound 24.422s, prune user 18.336s, read disk 420.482s, compute rank 0.058s
	total ip cost 7268232, total predict io cost 0, total refine io cost 2433588544, total refine user 48560, IP bound prune ratio 0.9960, rank prune ratio 1.0000
[2022-12-08 22:30:31.105] [info] finish top-10
[2022-12-08 22:30:31.105] [info] top10 retrieval time: total 139.861s, total predict 139.861s
	inner product 87.519s, rank bound 22.805s, prune user 17.511s, read disk 10.735s, compute rank 0.000s
	total ip cost 4177000, total predict io cost 0, total refine io cost 69824, total refine user 1021, IP bound prune ratio 0.9977, rank prune ratio 1.0000
[2022-12-08 22:30:31.105] [info] build index time: total 6.05453491s
top250 retrieval time: total 1142.610s, total predict 1142.610s
	inner product 103.688s, rank bound 26.139s, prune user 19.505s, read disk 991.566s, compute rank 0.171s
	total ip cost 13880785, total predict io cost 0, total refine io cost 5462746240, total refine user 117905, IP bound prune ratio 0.9924, rank prune ratio 0.9999
top200 retrieval time: total 1112.149s, total predict 1112.149s
	inner product 102.758s, rank bound 25.821s, prune user 19.276s, read disk 962.609s, compute rank 0.165s
	total ip cost 12600795, total predict io cost 0, total refine io cost 5460274432, total refine user 114112, IP bound prune ratio 0.9931, rank prune ratio 0.9999
top150 retrieval time: total 954.542s, total predict 954.542s
	inner product 101.990s, rank bound 25.623s, prune user 18.980s, read disk 806.320s, compute rank 0.138s
	total ip cost 11155222, total predict io cost 0, total refine io cost 4601906304, total refine user 95020, IP bound prune ratio 0.9939, rank prune ratio 0.9999
top100 retrieval time: total 677.325s, total predict 677.325s
	inner product 99.304s, rank bound 25.020s, prune user 18.670s, read disk 532.825s, compute rank 0.075s
	total ip cost 9464325, total predict io cost 0, total refine io cost 2938779648, total refine user 62249, IP bound prune ratio 0.9948, rank prune ratio 1.0000
top50 retrieval time: total 562.126s, total predict 562.126s
	inner product 97.426s, rank bound 24.422s, prune user 18.336s, read disk 420.482s, compute rank 0.058s
	total ip cost 7268232, total predict io cost 0, total refine io cost 2433588544, total refine user 48560, IP bound prune ratio 0.9960, rank prune ratio 1.0000
top10 retrieval time: total 139.861s, total predict 139.861s
	inner product 87.519s, rank bound 22.805s, prune user 17.511s, read disk 10.735s, compute rank 0.000s
	total ip cost 4177000, total predict io cost 0, total refine io cost 69824, total refine user 1021, IP bound prune ratio 0.9977, rank prune ratio 1.0000
[2022-12-08 22:30:31.841] [info] QueryRankSampleMinMaxIntLREstimate dataset_name yelp_more_query, dataset_dir /home/zhengbian/Dataset/ReverseMIPS
[2022-12-08 22:30:31.841] [info] index_dir /home/zhengbian/reverse-k-ranks/index
[2022-12-08 22:30:37.422] [info] n_data_item 159585, n_query_item 1000, n_user 2189457, vec_dim 150
[2022-12-08 22:30:37.422] [info] input parameter: n_sample 490 n_sample_query 5000 sample_topk 10
[2022-12-08 22:30:38.484] [info] index path /home/zhengbian/reverse-k-ranks/index/memory_index/QueryRankSampleIntLR-yelp_more_query-n_sample_490-n_sample_query_5000-sample_topk_10.index
0 1 2 3 4 5 6 8 10 11 13 15 17 19 21 23 25 27 29 32 34 37 40 43 46 49 53 57 60 64 67 70 75 79 83 88 93 98 103 108 113 119 124 130 135 141 148 154 161 169 175 183 189 195 203 210 216 222 228 236 244 252 261 270 278 285 295 304 313 322 329 339 347 357 366 379 391 406 419 432 445 455 469 482 493 504 514 528 540 551 562 577 593 604 620 637 654 668 683 703 717 735 750 766 788 805 817 824 842 859 876 899 914 931 950 968 985 1011 1033 1054 1081 1105 1128 1144 1165 1181 1211 1229 1245 1267 1290 1306 1330 1352 1380 1403 1429 1460 1481 1509 1532 1558 1586 1612 1631 1666 1704 1737 1771 1772 1800 1826 1855 1887 1920 1937 1961 1985 2012 2047 2078 2116 2146 2176 2214 2260 2289 2330 2366 2403 2444 2492 2528 2576 2619 2654 2692 2726 2765 2810 2849 2920 2965 3002 3056 3074 3126 3139 3167 3188 3256 3296 3357 3388 3425 3462 3517 3558 3588 3645 3688 3731 3783 3827 3890 3915 4001 4056 4117 4151 4205 4255 4282 4354 4387 4438 4512 4559 4637 4689 4760 4800 4859 4914 4989 5074 5191 5258 5337 5431 5494 5552 5633 5784 5872 5929 6033 6088 6194 6261 6367 6479 6561 6698 6789 6871 6942 7142 7191 7289 7385 7483 7530 7625 7703 7742 7817 7876 7962 8011 8095 8180 8230 8348 8451 8556 8657 8807 8933 9092 9163 9196 9338 9381 9501 9614 9739 9801 9968 10076 10247 10345 10550 10621 10694 10747 10864 10967 11032 11104 11284 11407 11479 11582 11654 11746 11839 12016 12096 12274 12415 12585 12701 12892 13090 13157 13234 13430 13504 13775 14296 14413 14507 14546 14801 14912 15037 15263 15397 15582 15742 15921 16128 16421 16548 16642 16803 17053 17204 17314 17730 17797 17849 18013 18125 18404 18554 18751 19068 19353 19420 19563 19721 19871 20237 20339 20455 20635 20849 21262 21404 21517 21699 22096 22183 22359 22609 23061 23209 23386 24008 24139 24246 24975 25070 25354 25573 25834 26190 26579 27229 27488 27814 28196 28442 28534 29117 29309 30175 30970 31051 31479 31910 32034 32227 32354 32875 33510 33629 34145 34469 34705 34884 34976 35123 35276 35562 35935 36284 36565 36880 37197 37795 38545 38953 39069 40122 40592 41022 41273 41989 42399 42569 43631 44970 45053 48195 48352 49209 49895 50053 50615 51185 54276 57057 57405 57516 57995 58697 60523 60773 61398 63033 64556 65404 66386 67631 68790 70407 72048 72351 74479 75284 77459 78135 78663 79218 79768 80138 80285 80510 80790 81482 84399 86863 87017 89342 91039 94286 94712 94821 95747 96279 98177 98622 98947 99818 100400 101160 102653 104586 104933 105422 106109 107810 108341 108778 108968 110649 112244 113604 114543 116368 117732 119158 122998 123107 125034 126876 128727 
[2022-12-08 22:30:43.551] [info] index path /home/zhengbian/reverse-k-ranks/index/memory_index/MinMaxLinearRegression-yelp_more_query-n_sample_490-n_sample_query_5000-sample_topk_10.index
[2022-12-08 22:30:43.642] [info] finish preprocess and save the index
[2022-12-08 22:39:26.186] [info] queryID 990, n_prune_user 0, n_result_user 195, total_predicite_IO_cost 67556246796, tmp_refine_user_size 2189262
[2022-12-08 22:39:27.351] [info] queryID 991, n_prune_user 0, n_result_user 145, total_predicite_IO_cost 135114036492, tmp_refine_user_size 2189312
[2022-12-08 22:39:28.527] [info] queryID 992, n_prune_user 0, n_result_user 110, total_predicite_IO_cost 202672906218, tmp_refine_user_size 2189347
[2022-12-08 22:39:29.702] [info] queryID 993, n_prune_user 0, n_result_user 136, total_predicite_IO_cost 270230973636, tmp_refine_user_size 2189321
[2022-12-08 22:39:30.876] [info] queryID 994, n_prune_user 0, n_result_user 43, total_predicite_IO_cost 337791910848, tmp_refine_user_size 2189414
[2022-12-08 22:39:32.051] [info] queryID 995, n_prune_user 0, n_result_user 60, total_predicite_IO_cost 405352323474, tmp_refine_user_size 2189397
[2022-12-08 22:39:33.240] [info] queryID 996, n_prune_user 0, n_result_user 44, total_predicite_IO_cost 472913229828, tmp_refine_user_size 2189413
[2022-12-08 22:39:34.414] [info] queryID 997, n_prune_user 0, n_result_user 19, total_predicite_IO_cost 540474907632, tmp_refine_user_size 2189438
[2022-12-08 22:39:35.590] [info] queryID 998, n_prune_user 0, n_result_user 30, total_predicite_IO_cost 608036245998, tmp_refine_user_size 2189427
[2022-12-08 22:39:36.764] [info] queryID 999, n_prune_user 0, n_result_user 10, total_predicite_IO_cost 675598201524, tmp_refine_user_size 2189447
[2022-12-08 22:39:36.766] [info] finish top-250
[2022-12-08 22:39:36.766] [info] top250 retrieval time: total 533.119s, total predict 3963423.229s
	inner product 167.664s, rank bound 147.620s, prune user 34.112s, read disk 182.023s, compute rank 0.026s
	total ip cost 185839464, total predict io cost 675598201524, total refine io cost 31031488, total refine user 26100, IP bound prune ratio 0.9151, rank prune ratio 0.9900
[2022-12-08 22:47:38.774] [info] queryID 990, n_prune_user 0, n_result_user 195, total_predicite_IO_cost 67556246796, tmp_refine_user_size 2189262
[2022-12-08 22:47:40.030] [info] queryID 991, n_prune_user 0, n_result_user 145, total_predicite_IO_cost 135114036492, tmp_refine_user_size 2189312
[2022-12-08 22:47:41.244] [info] queryID 992, n_prune_user 0, n_result_user 110, total_predicite_IO_cost 202672906218, tmp_refine_user_size 2189347
[2022-12-08 22:47:42.418] [info] queryID 993, n_prune_user 0, n_result_user 136, total_predicite_IO_cost 270230973636, tmp_refine_user_size 2189321
[2022-12-08 22:47:43.596] [info] queryID 994, n_prune_user 0, n_result_user 43, total_predicite_IO_cost 337791910848, tmp_refine_user_size 2189414
[2022-12-08 22:47:44.772] [info] queryID 995, n_prune_user 0, n_result_user 60, total_predicite_IO_cost 405352323474, tmp_refine_user_size 2189397
[2022-12-08 22:47:45.958] [info] queryID 996, n_prune_user 0, n_result_user 44, total_predicite_IO_cost 472913229828, tmp_refine_user_size 2189413
[2022-12-08 22:47:47.125] [info] queryID 997, n_prune_user 0, n_result_user 19, total_predicite_IO_cost 540474907632, tmp_refine_user_size 2189438
[2022-12-08 22:47:48.292] [info] queryID 998, n_prune_user 0, n_result_user 30, total_predicite_IO_cost 608036245998, tmp_refine_user_size 2189427
[2022-12-08 22:47:49.459] [info] queryID 999, n_prune_user 0, n_result_user 10, total_predicite_IO_cost 675598201524, tmp_refine_user_size 2189447
[2022-12-08 22:47:49.461] [info] finish top-200
[2022-12-08 22:47:49.461] [info] top200 retrieval time: total 492.693s, total predict 4494340.774s
	inner product 166.689s, rank bound 147.038s, prune user 33.450s, read disk 143.823s, compute rank 0.018s
	total ip cost 176143593, total predict io cost 675598201524, total refine io cost 21622080, total refine user 20390, IP bound prune ratio 0.9195, rank prune ratio 0.9900
[2022-12-08 22:55:20.628] [info] queryID 991, n_prune_user 0, n_result_user 145, total_predicite_IO_cost 67557789696, tmp_refine_user_size 2189312
[2022-12-08 22:55:21.839] [info] queryID 992, n_prune_user 0, n_result_user 110, total_predicite_IO_cost 135116659422, tmp_refine_user_size 2189347
[2022-12-08 22:55:23.024] [info] queryID 993, n_prune_user 0, n_result_user 136, total_predicite_IO_cost 202674726840, tmp_refine_user_size 2189321
[2022-12-08 22:55:24.201] [info] queryID 994, n_prune_user 0, n_result_user 43, total_predicite_IO_cost 270235664052, tmp_refine_user_size 2189414
[2022-12-08 22:55:25.381] [info] queryID 995, n_prune_user 0, n_result_user 60, total_predicite_IO_cost 337796076678, tmp_refine_user_size 2189397
[2022-12-08 22:55:26.576] [info] queryID 996, n_prune_user 0, n_result_user 44, total_predicite_IO_cost 405356983032, tmp_refine_user_size 2189413
[2022-12-08 22:55:27.747] [info] queryID 997, n_prune_user 0, n_result_user 19, total_predicite_IO_cost 472918660836, tmp_refine_user_size 2189438
[2022-12-08 22:55:28.918] [info] queryID 998, n_prune_user 0, n_result_user 30, total_predicite_IO_cost 540479999202, tmp_refine_user_size 2189427
[2022-12-08 22:55:30.090] [info] queryID 999, n_prune_user 0, n_result_user 10, total_predicite_IO_cost 608041954728, tmp_refine_user_size 2189447
[2022-12-08 22:55:30.091] [info] finish top-150
[2022-12-08 22:55:30.091] [info] top150 retrieval time: total 460.629s, total predict 4180659.831s
	inner product 165.019s, rank bound 146.471s, prune user 32.796s, read disk 114.670s, compute rank 0.014s
	total ip cost 169369485, total predict io cost 608041954728, total refine io cost 16679616, total refine user 16240, IP bound prune ratio 0.9226, rank prune ratio 0.9910
[2022-12-08 23:02:25.444] [info] queryID 994, n_prune_user 0, n_result_user 43, total_predicite_IO_cost 67560937212, tmp_refine_user_size 2189414
[2022-12-08 23:02:26.610] [info] queryID 995, n_prune_user 0, n_result_user 60, total_predicite_IO_cost 135121349838, tmp_refine_user_size 2189397
[2022-12-08 23:02:27.788] [info] queryID 996, n_prune_user 0, n_result_user 44, total_predicite_IO_cost 202682256192, tmp_refine_user_size 2189413
[2022-12-08 23:02:28.952] [info] queryID 997, n_prune_user 0, n_result_user 19, total_predicite_IO_cost 270243933996, tmp_refine_user_size 2189438
[2022-12-08 23:02:30.115] [info] queryID 998, n_prune_user 0, n_result_user 30, total_predicite_IO_cost 337805272362, tmp_refine_user_size 2189427
[2022-12-08 23:02:31.280] [info] queryID 999, n_prune_user 0, n_result_user 10, total_predicite_IO_cost 405367227888, tmp_refine_user_size 2189447
[2022-12-08 23:02:31.280] [info] finish top-100
[2022-12-08 23:02:31.280] [info] top100 retrieval time: total 421.188s, total predict 3159451.468s
	inner product 159.960s, rank bound 145.683s, prune user 31.880s, read disk 82.024s, compute rank 0.010s
	total ip cost 162734046, total predict io cost 405367227888, total refine io cost 10525312, total refine user 11261, IP bound prune ratio 0.9257, rank prune ratio 0.9940
[2022-12-08 23:08:43.083] [info] queryID 994, n_prune_user 0, n_result_user 43, total_predicite_IO_cost 67560937212, tmp_refine_user_size 2189414
[2022-12-08 23:08:45.538] [info] queryID 996, n_prune_user 0, n_result_user 44, total_predicite_IO_cost 135121843566, tmp_refine_user_size 2189413
[2022-12-08 23:08:46.713] [info] queryID 997, n_prune_user 0, n_result_user 19, total_predicite_IO_cost 202683521370, tmp_refine_user_size 2189438
[2022-12-08 23:08:47.884] [info] queryID 998, n_prune_user 0, n_result_user 30, total_predicite_IO_cost 270244859736, tmp_refine_user_size 2189427
[2022-12-08 23:08:49.055] [info] queryID 999, n_prune_user 0, n_result_user 10, total_predicite_IO_cost 337806815262, tmp_refine_user_size 2189447
[2022-12-08 23:08:49.056] [info] finish top-50
[2022-12-08 23:08:49.056] [info] top50 retrieval time: total 377.774s, total predict 3032571.535s
	inner product 152.350s, rank bound 143.553s, prune user 30.650s, read disk 49.610s, compute rank 0.006s
	total ip cost 149931007, total predict io cost 337806815262, total refine io cost 5526848, total refine user 6696, IP bound prune ratio 0.9315, rank prune ratio 0.9950
[2022-12-08 23:14:04.950] [info] finish top-10
[2022-12-08 23:14:04.950] [info] top10 retrieval time: total 315.894s, total predict 315.894s
	inner product 138.207s, rank bound 140.429s, prune user 28.107s, read disk 7.619s, compute rank 0.000s
	total ip cost 117920495, total predict io cost 0, total refine io cost 62464, total refine user 873, IP bound prune ratio 0.9461, rank prune ratio 1.0000
[2022-12-08 23:14:04.950] [info] build index time: total 6.219753154s
top250 retrieval time: total 533.119s, total predict 3963423.229s
	inner product 167.664s, rank bound 147.620s, prune user 34.112s, read disk 182.023s, compute rank 0.026s
	total ip cost 185839464, total predict io cost 675598201524, total refine io cost 31031488, total refine user 26100, IP bound prune ratio 0.9151, rank prune ratio 0.9900
top200 retrieval time: total 492.693s, total predict 4494340.774s
	inner product 166.689s, rank bound 147.038s, prune user 33.450s, read disk 143.823s, compute rank 0.018s
	total ip cost 176143593, total predict io cost 675598201524, total refine io cost 21622080, total refine user 20390, IP bound prune ratio 0.9195, rank prune ratio 0.9900
top150 retrieval time: total 460.629s, total predict 4180659.831s
	inner product 165.019s, rank bound 146.471s, prune user 32.796s, read disk 114.670s, compute rank 0.014s
	total ip cost 169369485, total predict io cost 608041954728, total refine io cost 16679616, total refine user 16240, IP bound prune ratio 0.9226, rank prune ratio 0.9910
top100 retrieval time: total 421.188s, total predict 3159451.468s
	inner product 159.960s, rank bound 145.683s, prune user 31.880s, read disk 82.024s, compute rank 0.010s
	total ip cost 162734046, total predict io cost 405367227888, total refine io cost 10525312, total refine user 11261, IP bound prune ratio 0.9257, rank prune ratio 0.9940
top50 retrieval time: total 377.774s, total predict 3032571.535s
	inner product 152.350s, rank bound 143.553s, prune user 30.650s, read disk 49.610s, compute rank 0.006s
	total ip cost 149931007, total predict io cost 337806815262, total refine io cost 5526848, total refine user 6696, IP bound prune ratio 0.9315, rank prune ratio 0.9950
top10 retrieval time: total 315.894s, total predict 315.894s
	inner product 138.207s, rank bound 140.429s, prune user 28.107s, read disk 7.619s, compute rank 0.000s
	total ip cost 117920495, total predict io cost 0, total refine io cost 62464, total refine user 873, IP bound prune ratio 0.9461, rank prune ratio 1.0000
[2022-12-08 23:14:05.705] [info] QueryRankSampleUniformIntLREstimate dataset_name yahoomusic_big_more_query, dataset_dir /home/zhengbian/Dataset/ReverseMIPS
[2022-12-08 23:14:05.705] [info] index_dir /home/zhengbian/reverse-k-ranks/index
[2022-12-08 23:14:10.360] [info] n_data_item 135736, n_query_item 1000, n_user 1823179, vec_dim 150
[2022-12-08 23:14:10.360] [info] input parameter: n_sample 588 n_sample_query 5000 sample_topk 50
[2022-12-08 23:14:11.246] [info] index path /home/zhengbian/reverse-k-ranks/index/memory_index/QueryRankSampleIntLR-yahoomusic_big_more_query-n_sample_588-n_sample_query_5000-sample_topk_50.index
0 1 2 3 4 5 6 7 8 9 10 12 14 15 17 19 21 23 25 27 29 31 34 36 39 42 44 47 50 53 56 59 62 65 68 71 75 78 81 84 88 92 96 100 105 109 114 119 123 127 131 136 141 146 150 155 160 164 169 174 179 184 190 195 202 209 214 219 227 234 241 247 253 259 266 273 280 286 293 299 307 314 322 330 338 345 355 364 373 382 388 396 404 412 420 431 441 450 459 469 478 489 501 512 524 533 545 555 569 579 591 601 611 622 639 649 660 671 683 691 704 718 732 745 760 774 788 803 817 833 849 862 876 888 900 913 926 943 959 974 988 1001 1023 1037 1054 1075 1095 1111 1130 1146 1164 1185 1195 1211 1230 1249 1267 1291 1313 1335 1361 1380 1394 1413 1433 1453 1471 1491 1508 1535 1568 1589 1612 1638 1660 1679 1701 1725 1745 1771 1791 1818 1848 1877 1899 1927 1956 1990 2017 2044 2066 2098 2131 2161 2196 2222 2249 2287 2319 2351 2383 2428 2460 2491 2522 2563 2592 2628 2657 2691 2740 2778 2815 2847 2883 2913 2963 2996 3035 3061 3099 3142 3179 3223 3254 3297 3334 3372 3400 3441 3465 3508 3552 3607 3650 3704 3742 3777 3810 3860 3897 3937 3982 4029 4063 4112 4159 4213 4258 4308 4358 4397 4444 4506 4557 4612 4653 4716 4773 4819 4884 4942 4988 5033 5069 5146 5211 5267 5309 5363 5425 5480 5531 5568 5630 5694 5768 5837 5906 5938 6034 6081 6138 6213 6292 6335 6406 6459 6509 6608 6679 6767 6829 6912 7019 7079 7137 7193 7311 7356 7421 7485 7530 7659 7713 7793 7859 7906 7962 8091 8144 8244 8319 8395 8477 8563 8633 8690 8765 8854 8947 9032 9140 9206 9283 9331 9424 9584 9631 9683 9726 9874 9986 10078 10247 10358 10468 10541 10601 10685 10705 10791 10911 11059 11122 11181 11346 11502 11594 11752 11834 12042 12179 12333 12411 12469 12581 12657 12764 12869 12955 13045 13141 13286 13388 13576 13658 13731 13893 13983 14077 14172 14451 14575 14817 14859 15047 15139 15306 15410 15537 15686 15825 15903 15976 16044 16202 16339 16446 16620 16843 17008 17148 17306 17412 17625 17771 17908 18034 18334 18486 18644 18744 18882 18957 19100 19350 19460 19605 19766 20154 20441 20700 20711 21124 21347 21588 21861 22007 22105 22379 22557 22932 23109 23293 23397 23835 24030 24167 24479 24585 24746 24921 25171 25416 25588 25784 25955 26417 26667 26835 27043 27179 27473 27503 27804 28077 28376 28490 28636 28976 29122 29932 30124 30292 30608 30662 30802 31165 31313 31411 31674 31871 32031 32523 32638 32765 32889 33228 33269 33680 33790 34179 34994 35861 36101 36219 36571 36804 37036 37180 37472 38362 38574 39175 39346 40257 40346 41063 41223 41990 43455 43712 43785 44239 45130 45248 45631 45642 46460 46512 46760 46967 47434 47479 47650 48031 48260 48502 48633 49026 49298 49426 49881 50070 51236 51342 51688 51853 52127 52673 52888 53285 53306 54106 54678 55001 55529 56005 56097 56357 56590 57418 57706 58409 58558 58670 58763 59138 60148 60445 60689 60805 61123 61252 61667 62319 62518 62898 63340 63572 64062 64266 64433 64954 64955 65168 65625 65641 66065 66228 66347 66906 67386 67947 68083 68186 68324 68552 68811 69971 70145 70413 70629 71180 71234 71567 71915 73016 74929 75144 75738 76749 79267 80173 80786 82173 83481 
[2022-12-08 23:14:16.318] [info] index path /home/zhengbian/reverse-k-ranks/index/memory_index/UniformLinearRegression-yahoomusic_big_more_query-n_sample_588-n_sample_query_5000-sample_topk_50.index
[2022-12-08 23:14:16.393] [info] finish preprocess and save the index
[2022-12-08 23:32:13.372] [info] finish top-250
[2022-12-08 23:32:13.372] [info] top250 retrieval time: total 1076.974s, total predict 1076.974s
	inner product 103.852s, rank bound 26.593s, prune user 19.729s, read disk 925.150s, compute rank 0.146s
	total ip cost 15553536, total predict io cost 0, total refine io cost 4869742016, total refine user 113623, IP bound prune ratio 0.9915, rank prune ratio 0.9999
[2022-12-08 23:49:46.440] [info] finish top-200
[2022-12-08 23:49:46.440] [info] top200 retrieval time: total 1053.065s, total predict 1053.065s
	inner product 103.057s, rank bound 26.299s, prune user 19.480s, read disk 902.588s, compute rank 0.146s
	total ip cost 14166087, total predict io cost 0, total refine io cost 4867784128, total refine user 110714, IP bound prune ratio 0.9922, rank prune ratio 0.9999
[2022-12-09 00:03:58.901] [info] finish top-150
[2022-12-09 00:03:58.901] [info] top150 retrieval time: total 852.459s, total predict 852.459s
	inner product 102.187s, rank bound 25.935s, prune user 19.199s, read disk 703.571s, compute rank 0.108s
	total ip cost 12535733, total predict io cost 0, total refine io cost 3765821888, total refine user 85840, IP bound prune ratio 0.9931, rank prune ratio 1.0000
[2022-12-09 00:12:55.419] [info] finish top-100
[2022-12-09 00:12:55.419] [info] top100 retrieval time: total 536.517s, total predict 536.517s
	inner product 98.219s, rank bound 25.196s, prune user 18.781s, read disk 392.867s, compute rank 0.053s
	total ip cost 10613479, total predict io cost 0, total refine io cost 1956341248, total refine user 47440, IP bound prune ratio 0.9942, rank prune ratio 1.0000
[2022-12-09 00:15:46.525] [info] finish top-50
[2022-12-09 00:15:46.525] [info] top50 retrieval time: total 171.106s, total predict 171.106s
	inner product 92.752s, rank bound 23.976s, prune user 18.359s, read disk 34.707s, compute rank 0.001s
	total ip cost 8124278, total predict io cost 0, total refine io cost 279488, total refine user 3578, IP bound prune ratio 0.9955, rank prune ratio 1.0000
[2022-12-09 00:18:15.153] [info] finish top-10
[2022-12-09 00:18:15.153] [info] top10 retrieval time: total 148.627s, total predict 148.627s
	inner product 89.285s, rank bound 23.001s, prune user 17.684s, read disk 17.343s, compute rank 0.000s
	total ip cost 4649178, total predict io cost 0, total refine io cost 390784, total refine user 1555, IP bound prune ratio 0.9974, rank prune ratio 1.0000
[2022-12-09 00:18:15.153] [info] build index time: total 6.033513958s
top250 retrieval time: total 1076.974s, total predict 1076.974s
	inner product 103.852s, rank bound 26.593s, prune user 19.729s, read disk 925.150s, compute rank 0.146s
	total ip cost 15553536, total predict io cost 0, total refine io cost 4869742016, total refine user 113623, IP bound prune ratio 0.9915, rank prune ratio 0.9999
top200 retrieval time: total 1053.065s, total predict 1053.065s
	inner product 103.057s, rank bound 26.299s, prune user 19.480s, read disk 902.588s, compute rank 0.146s
	total ip cost 14166087, total predict io cost 0, total refine io cost 4867784128, total refine user 110714, IP bound prune ratio 0.9922, rank prune ratio 0.9999
top150 retrieval time: total 852.459s, total predict 852.459s
	inner product 102.187s, rank bound 25.935s, prune user 19.199s, read disk 703.571s, compute rank 0.108s
	total ip cost 12535733, total predict io cost 0, total refine io cost 3765821888, total refine user 85840, IP bound prune ratio 0.9931, rank prune ratio 1.0000
top100 retrieval time: total 536.517s, total predict 536.517s
	inner product 98.219s, rank bound 25.196s, prune user 18.781s, read disk 392.867s, compute rank 0.053s
	total ip cost 10613479, total predict io cost 0, total refine io cost 1956341248, total refine user 47440, IP bound prune ratio 0.9942, rank prune ratio 1.0000
top50 retrieval time: total 171.106s, total predict 171.106s
	inner product 92.752s, rank bound 23.976s, prune user 18.359s, read disk 34.707s, compute rank 0.001s
	total ip cost 8124278, total predict io cost 0, total refine io cost 279488, total refine user 3578, IP bound prune ratio 0.9955, rank prune ratio 1.0000
top10 retrieval time: total 148.627s, total predict 148.627s
	inner product 89.285s, rank bound 23.001s, prune user 17.684s, read disk 17.343s, compute rank 0.000s
	total ip cost 4649178, total predict io cost 0, total refine io cost 390784, total refine user 1555, IP bound prune ratio 0.9974, rank prune ratio 1.0000
[2022-12-09 00:18:15.890] [info] QueryRankSampleMinMaxIntLREstimate dataset_name yelp_more_query, dataset_dir /home/zhengbian/Dataset/ReverseMIPS
[2022-12-09 00:18:15.890] [info] index_dir /home/zhengbian/reverse-k-ranks/index
[2022-12-09 00:18:21.463] [info] n_data_item 159585, n_query_item 1000, n_user 2189457, vec_dim 150
[2022-12-09 00:18:21.463] [info] input parameter: n_sample 490 n_sample_query 5000 sample_topk 50
[2022-12-09 00:18:22.527] [info] index path /home/zhengbian/reverse-k-ranks/index/memory_index/QueryRankSampleIntLR-yelp_more_query-n_sample_490-n_sample_query_5000-sample_topk_50.index
0 1 2 4 6 8 10 12 14 17 19 22 24 27 30 33 36 40 44 48 52 56 60 65 69 74 79 84 89 94 99 105 112 118 125 130 137 144 151 158 165 173 181 189 197 205 214 222 231 240 249 258 267 276 285 295 303 312 322 331 341 352 361 372 382 393 403 414 424 436 448 462 477 489 502 516 529 545 558 574 591 609 617 633 648 668 684 704 723 738 758 775 796 815 833 852 876 897 916 937 957 978 1001 1021 1043 1077 1094 1113 1137 1162 1190 1218 1240 1266 1290 1316 1338 1366 1387 1422 1445 1470 1491 1519 1544 1560 1587 1609 1632 1657 1692 1712 1749 1782 1809 1845 1877 1895 1931 1963 1995 2031 2063 2096 2122 2167 2198 2231 2265 2316 2362 2408 2447 2482 2520 2569 2607 2638 2681 2706 2756 2808 2859 2892 2933 2985 3024 3067 3119 3162 3214 3246 3297 3339 3376 3419 3453 3516 3587 3660 3718 3785 3850 3898 3948 3992 4051 4105 4165 4227 4278 4353 4398 4462 4520 4559 4621 4692 4783 4839 4918 4972 5023 5105 5163 5226 5305 5373 5427 5512 5596 5655 5754 5821 5899 5971 6046 6122 6193 6272 6365 6443 6544 6613 6679 6817 6902 7021 7111 7199 7315 7446 7584 7689 7825 7897 7995 8034 8149 8213 8352 8457 8543 8652 8707 8826 8895 8989 9083 9175 9260 9321 9468 9601 9745 9804 9852 9976 10054 10134 10275 10379 10493 10585 10799 10875 10988 11041 11197 11393 11501 11613 11763 11912 12084 12163 12268 12395 12477 12636 12888 12979 13188 13301 13507 13587 13733 13895 14031 14173 14334 14489 14617 14697 14811 14935 15104 15340 15379 15752 15960 16076 16222 16370 16539 16705 16781 16954 17197 17314 17534 17834 17899 18059 18500 18675 18829 19053 19174 19306 19422 19693 19985 20126 20374 20508 20650 20801 21158 21351 21620 21787 22113 22276 22920 23098 23511 24084 24288 24396 24716 24955 25474 25792 26210 26530 26741 26928 27202 27529 27792 28113 28382 28557 29075 29341 29580 29862 30004 30892 30915 31241 31580 31872 32199 32466 32934 33049 33330 34018 34128 34416 34757 35039 35250 35595 36182 36498 38098 39233 39499 40364 40815 41163 41460 41640 41907 42117 42190 42426 43016 43597 43702 44102 44295 44784 45066 45181 45858 46351 46395 46744 46929 47360 47962 48125 48694 49218 49437 50265 50397 50916 51495 52102 52613 54664 55052 57117 58045 58871 59595 60029 60592 62579 62892 63789 65813 67710 69825 69893 70885 71559 74458 75322 76081 76208 78087 79607 81420 81702 83975 84478 84970 85729 86002 88963 89571 89930 90029 91064 91721 91936 93593 93703 95138 96283 96644 101079 101375 102900 104011 104357 105977 106304 108258 108539 108988 109149 111762 112261 112438 112665 112857 115553 116502 116844 117411 118143 118249 119605 121174 123126 123640 124702 127414 129151 129154 130608 132421 133868 
[2022-12-09 00:18:27.611] [info] index path /home/zhengbian/reverse-k-ranks/index/memory_index/MinMaxLinearRegression-yelp_more_query-n_sample_490-n_sample_query_5000-sample_topk_50.index
[2022-12-09 00:18:27.702] [info] finish preprocess and save the index
[2022-12-09 00:27:01.517] [info] queryID 994, n_prune_user 0, n_result_user 159, total_predicite_IO_cost 56302176666, tmp_refine_user_size 2189298
[2022-12-09 00:27:02.710] [info] queryID 995, n_prune_user 0, n_result_user 176, total_predicite_IO_cost 112603916143, tmp_refine_user_size 2189281
[2022-12-09 00:27:03.931] [info] queryID 996, n_prune_user 0, n_result_user 128, total_predicite_IO_cost 168906890036, tmp_refine_user_size 2189329
[2022-12-09 00:27:05.125] [info] queryID 997, n_prune_user 0, n_result_user 77, total_predicite_IO_cost 225211175496, tmp_refine_user_size 2189380
[2022-12-09 00:27:06.320] [info] queryID 998, n_prune_user 0, n_result_user 76, total_predicite_IO_cost 281515486673, tmp_refine_user_size 2189381
[2022-12-09 00:27:07.505] [info] queryID 999, n_prune_user 0, n_result_user 50, total_predicite_IO_cost 337820466492, tmp_refine_user_size 2189407
[2022-12-09 00:27:07.507] [info] finish top-250
[2022-12-09 00:27:07.507] [info] top250 retrieval time: total 519.801s, total predict 2749657.834s
	inner product 165.688s, rank bound 147.096s, prune user 33.587s, read disk 171.731s, compute rank 0.024s
	total ip cost 169762896, total predict io cost 337820466492, total refine io cost 21102656, total refine user 24420, IP bound prune ratio 0.9225, rank prune ratio 0.9940
[2022-12-09 00:35:15.077] [info] queryID 994, n_prune_user 0, n_result_user 159, total_predicite_IO_cost 56302176666, tmp_refine_user_size 2189298
[2022-12-09 00:35:16.268] [info] queryID 995, n_prune_user 0, n_result_user 176, total_predicite_IO_cost 112603916143, tmp_refine_user_size 2189281
[2022-12-09 00:35:17.481] [info] queryID 996, n_prune_user 0, n_result_user 128, total_predicite_IO_cost 168906890036, tmp_refine_user_size 2189329
[2022-12-09 00:35:18.669] [info] queryID 997, n_prune_user 0, n_result_user 77, total_predicite_IO_cost 225211175496, tmp_refine_user_size 2189380
[2022-12-09 00:35:19.861] [info] queryID 998, n_prune_user 0, n_result_user 76, total_predicite_IO_cost 281515486673, tmp_refine_user_size 2189381
[2022-12-09 00:35:21.044] [info] queryID 999, n_prune_user 0, n_result_user 50, total_predicite_IO_cost 337820466492, tmp_refine_user_size 2189407
[2022-12-09 00:35:21.045] [info] finish top-200
[2022-12-09 00:35:21.045] [info] top200 retrieval time: total 493.536s, total predict 2978412.305s
	inner product 166.204s, rank bound 147.075s, prune user 33.215s, read disk 145.357s, compute rank 0.019s
	total ip cost 164931126, total predict io cost 337820466492, total refine io cost 16489600, total refine user 20715, IP bound prune ratio 0.9247, rank prune ratio 0.9940
[2022-12-09 00:42:53.376] [info] queryID 996, n_prune_user 0, n_result_user 128, total_predicite_IO_cost 56302973893, tmp_refine_user_size 2189329
[2022-12-09 00:42:54.554] [info] queryID 997, n_prune_user 0, n_result_user 77, total_predicite_IO_cost 112607259353, tmp_refine_user_size 2189380
[2022-12-09 00:42:55.734] [info] queryID 998, n_prune_user 0, n_result_user 76, total_predicite_IO_cost 168911570530, tmp_refine_user_size 2189381
[2022-12-09 00:42:56.906] [info] queryID 999, n_prune_user 0, n_result_user 50, total_predicite_IO_cost 225216550349, tmp_refine_user_size 2189407
[2022-12-09 00:42:56.907] [info] finish top-150
[2022-12-09 00:42:56.907] [info] top150 retrieval time: total 455.860s, total predict 2247181.493s
	inner product 162.293s, rank bound 145.808s, prune user 32.520s, read disk 113.582s, compute rank 0.015s
	total ip cost 159483573, total predict io cost 225216550349, total refine io cost 11385728, total refine user 15928, IP bound prune ratio 0.9272, rank prune ratio 0.9960
[2022-12-09 00:49:56.185] [info] queryID 997, n_prune_user 0, n_result_user 77, total_predicite_IO_cost 56304285460, tmp_refine_user_size 2189380
[2022-12-09 00:49:57.430] [info] queryID 998, n_prune_user 0, n_result_user 76, total_predicite_IO_cost 112608596637, tmp_refine_user_size 2189381
[2022-12-09 00:49:58.604] [info] queryID 999, n_prune_user 0, n_result_user 50, total_predicite_IO_cost 168913576456, tmp_refine_user_size 2189407
[2022-12-09 00:49:58.605] [info] finish top-100
[2022-12-09 00:49:58.605] [info] top100 retrieval time: total 421.697s, total predict 1524887.909s
	inner product 159.348s, rank bound 145.051s, prune user 31.709s, read disk 83.954s, compute rank 0.011s
	total ip cost 149810820, total predict io cost 168913576456, total refine io cost 9302208, total refine user 11579, IP bound prune ratio 0.9316, rank prune ratio 0.9970
[2022-12-09 00:55:52.164] [info] finish top-50
[2022-12-09 00:55:52.165] [info] top50 retrieval time: total 353.559s, total predict 353.559s
	inner product 149.381s, rank bound 143.786s, prune user 30.127s, read disk 28.700s, compute rank 0.001s
	total ip cost 135907766, total predict io cost 0, total refine io cost 356672, total refine user 3646, IP bound prune ratio 0.9379, rank prune ratio 1.0000
[2022-12-09 01:01:09.011] [info] finish top-10
[2022-12-09 01:01:09.011] [info] top10 retrieval time: total 316.845s, total predict 316.845s
	inner product 134.357s, rank bound 139.433s, prune user 27.232s, read disk 14.261s, compute rank 0.001s
	total ip cost 97181822, total predict io cost 0, total refine io cost 987904, total refine user 1715, IP bound prune ratio 0.9556, rank prune ratio 1.0000
[2022-12-09 01:01:09.011] [info] build index time: total 6.238507161s
top250 retrieval time: total 519.801s, total predict 2749657.834s
	inner product 165.688s, rank bound 147.096s, prune user 33.587s, read disk 171.731s, compute rank 0.024s
	total ip cost 169762896, total predict io cost 337820466492, total refine io cost 21102656, total refine user 24420, IP bound prune ratio 0.9225, rank prune ratio 0.9940
top200 retrieval time: total 493.536s, total predict 2978412.305s
	inner product 166.204s, rank bound 147.075s, prune user 33.215s, read disk 145.357s, compute rank 0.019s
	total ip cost 164931126, total predict io cost 337820466492, total refine io cost 16489600, total refine user 20715, IP bound prune ratio 0.9247, rank prune ratio 0.9940
top150 retrieval time: total 455.860s, total predict 2247181.493s
	inner product 162.293s, rank bound 145.808s, prune user 32.520s, read disk 113.582s, compute rank 0.015s
	total ip cost 159483573, total predict io cost 225216550349, total refine io cost 11385728, total refine user 15928, IP bound prune ratio 0.9272, rank prune ratio 0.9960
top100 retrieval time: total 421.697s, total predict 1524887.909s
	inner product 159.348s, rank bound 145.051s, prune user 31.709s, read disk 83.954s, compute rank 0.011s
	total ip cost 149810820, total predict io cost 168913576456, total refine io cost 9302208, total refine user 11579, IP bound prune ratio 0.9316, rank prune ratio 0.9970
top50 retrieval time: total 353.559s, total predict 353.559s
	inner product 149.381s, rank bound 143.786s, prune user 30.127s, read disk 28.700s, compute rank 0.001s
	total ip cost 135907766, total predict io cost 0, total refine io cost 356672, total refine user 3646, IP bound prune ratio 0.9379, rank prune ratio 1.0000
top10 retrieval time: total 316.845s, total predict 316.845s
	inner product 134.357s, rank bound 139.433s, prune user 27.232s, read disk 14.261s, compute rank 0.001s
	total ip cost 97181822, total predict io cost 0, total refine io cost 987904, total refine user 1715, IP bound prune ratio 0.9556, rank prune ratio 1.0000
[2022-12-09 01:01:09.766] [info] QueryRankSampleUniformIntLREstimate dataset_name yahoomusic_big_more_query, dataset_dir /home/zhengbian/Dataset/ReverseMIPS
[2022-12-09 01:01:09.766] [info] index_dir /home/zhengbian/reverse-k-ranks/index
[2022-12-09 01:01:14.453] [info] n_data_item 135736, n_query_item 1000, n_user 1823179, vec_dim 150
[2022-12-09 01:01:14.453] [info] input parameter: n_sample 588 n_sample_query 5000 sample_topk 100
[2022-12-09 01:01:15.337] [info] index path /home/zhengbian/reverse-k-ranks/index/memory_index/QueryRankSampleIntLR-yahoomusic_big_more_query-n_sample_588-n_sample_query_5000-sample_topk_100.index
0 1 2 3 4 5 7 8 9 11 13 15 17 19 21 23 25 27 29 32 35 38 41 44 47 51 54 57 61 64 68 72 75 79 83 87 91 95 99 103 107 112 117 123 128 134 139 144 149 155 162 167 173 179 184 190 195 202 209 215 222 228 234 242 248 256 263 271 278 285 293 300 308 316 323 334 343 353 361 370 379 389 398 408 418 429 440 454 464 475 487 500 512 525 538 550 563 575 586 598 612 626 640 655 668 683 701 712 725 741 755 770 782 795 807 821 837 855 869 885 900 916 929 944 962 980 997 1014 1033 1054 1073 1091 1108 1124 1142 1158 1179 1193 1214 1234 1250 1271 1293 1323 1345 1375 1399 1424 1444 1468 1493 1513 1546 1571 1594 1616 1652 1674 1702 1727 1750 1771 1797 1821 1853 1878 1901 1927 1965 1990 2024 2051 2088 2117 2147 2188 2224 2254 2296 2330 2369 2406 2430 2477 2511 2547 2583 2617 2650 2683 2715 2759 2792 2827 2860 2903 2932 2986 3026 3064 3106 3161 3203 3229 3274 3343 3382 3417 3463 3494 3526 3577 3624 3680 3739 3785 3824 3879 3950 3989 4027 4073 4137 4185 4228 4283 4345 4385 4445 4503 4547 4614 4684 4748 4807 4868 4910 4964 5024 5091 5156 5203 5269 5328 5372 5430 5499 5549 5625 5684 5717 5767 5839 5898 5945 6002 6061 6123 6188 6245 6309 6402 6481 6561 6641 6702 6775 6832 6913 6961 7021 7079 7135 7180 7253 7348 7403 7459 7565 7645 7717 7814 7847 7946 8031 8099 8189 8259 8307 8406 8545 8616 8733 8781 8878 9009 9084 9163 9219 9332 9430 9497 9583 9676 9759 9825 9902 10007 10062 10211 10305 10386 10447 10530 10621 10687 10788 10883 10972 11046 11119 11253 11343 11483 11514 11646 11798 11889 12019 12127 12190 12297 12378 12478 12622 12716 12806 12947 13138 13272 13386 13535 13649 13755 13892 13990 14187 14303 14408 14505 14643 14886 14978 15111 15224 15319 15512 15644 15796 15912 16126 16374 16482 16737 16840 16957 17058 17171 17442 17593 17691 17926 18059 18270 18448 18620 18825 18964 19152 19215 19326 19516 19598 19737 20006 20124 20241 20424 20604 20718 20804 20951 21187 21368 21431 21640 21769 21843 22050 22195 22360 22581 22792 22998 23258 23388 23541 23898 24085 24542 24672 25013 25762 25875 25981 26427 26501 26728 26947 27143 27312 27464 27628 27892 27982 28085 28240 28570 28722 28830 29525 29657 29840 29983 30156 30512 30719 30817 31686 31856 32055 32213 32350 32655 32859 33127 33266 33491 33963 33965 34434 34496 34684 34797 34949 35334 35458 35611 35780 35854 35996 36167 36344 36551 37330 38843 39073 39244 39413 39633 39849 39996 40137 40319 41081 41341 41665 41966 42211 42320 42609 43366 43696 43723 44059 44171 45658 45678 46606 46659 46924 47114 47263 47612 48092 48223 48789 48871 49049 49086 49327 49659 49901 50647 50752 51018 51318 51692 51906 52262 52266 53383 53442 53751 53930 54688 54939 54986 55285 55705 55981 56262 56896 57332 57759 58273 58548 58722 59195 59268 60033 60480 60686 60882 61120 61347 61584 62424 62750 62858 63083 63281 63862 64150 64570 65274 65882 65926 66308 66357 66738 66982 67494 67595 67918 68323 68700 69026 69422 69526 69777 69980 70053 70371 70536 70732 70894 71177 71719 72272 72413 72752 72902 73152 73444 73672 73725 74346 75426 76790 77379 77775 79481 81771 82101 82662 84204 85852 
[2022-12-09 01:01:20.414] [info] index path /home/zhengbian/reverse-k-ranks/index/memory_index/UniformLinearRegression-yahoomusic_big_more_query-n_sample_588-n_sample_query_5000-sample_topk_100.index
[2022-12-09 01:01:20.501] [info] finish preprocess and save the index
[2022-12-09 01:27:43.409] [info] finish top-250
[2022-12-09 01:27:43.409] [info] top250 retrieval time: total 1582.904s, total predict 1582.904s
	inner product 106.871s, rank bound 26.858s, prune user 19.943s, read disk 1427.153s, compute rank 0.386s
	total ip cost 16382588, total predict io cost 0, total refine io cost 7934585280, total refine user 180088, IP bound prune ratio 0.9910, rank prune ratio 0.9999
[2022-12-09 01:43:49.903] [info] finish top-200
[2022-12-09 01:43:49.903] [info] top200 retrieval time: total 966.491s, total predict 966.491s
	inner product 103.660s, rank bound 26.325s, prune user 19.608s, read disk 815.142s, compute rank 0.206s
	total ip cost 14881819, total predict io cost 0, total refine io cost 4215061760, total refine user 102564, IP bound prune ratio 0.9918, rank prune ratio 0.9999
[2022-12-09 01:53:05.563] [info] finish top-150
[2022-12-09 01:53:05.563] [info] top150 retrieval time: total 555.658s, total predict 555.658s
	inner product 102.338s, rank bound 25.952s, prune user 19.271s, read disk 406.562s, compute rank 0.087s
	total ip cost 13147888, total predict io cost 0, total refine io cost 1789563392, total refine user 50244, IP bound prune ratio 0.9928, rank prune ratio 1.0000
[2022-12-09 01:56:28.505] [info] finish top-100
[2022-12-09 01:56:28.505] [info] top100 retrieval time: total 202.941s, total predict 202.941s
	inner product 97.480s, rank bound 25.032s, prune user 18.857s, read disk 60.244s, compute rank 0.002s
	total ip cost 11124455, total predict io cost 0, total refine io cost 538368, total refine user 6678, IP bound prune ratio 0.9939, rank prune ratio 1.0000
[2022-12-09 01:59:46.016] [info] finish top-50
[2022-12-09 01:59:46.016] [info] top50 retrieval time: total 197.510s, total predict 197.510s
	inner product 96.849s, rank bound 24.538s, prune user 18.412s, read disk 56.376s, compute rank 0.002s
	total ip cost 8489891, total predict io cost 0, total refine io cost 1722880, total refine user 5906, IP bound prune ratio 0.9953, rank prune ratio 1.0000
[2022-12-09 02:02:19.777] [info] finish top-10
[2022-12-09 02:02:19.777] [info] top10 retrieval time: total 153.761s, total predict 153.761s
	inner product 93.071s, rank bound 23.476s, prune user 17.731s, read disk 18.171s, compute rank 0.000s
	total ip cost 4824293, total predict io cost 0, total refine io cost 361984, total refine user 1658, IP bound prune ratio 0.9974, rank prune ratio 1.0000
[2022-12-09 02:02:19.777] [info] build index time: total 6.047680642s
top250 retrieval time: total 1582.904s, total predict 1582.904s
	inner product 106.871s, rank bound 26.858s, prune user 19.943s, read disk 1427.153s, compute rank 0.386s
	total ip cost 16382588, total predict io cost 0, total refine io cost 7934585280, total refine user 180088, IP bound prune ratio 0.9910, rank prune ratio 0.9999
top200 retrieval time: total 966.491s, total predict 966.491s
	inner product 103.660s, rank bound 26.325s, prune user 19.608s, read disk 815.142s, compute rank 0.206s
	total ip cost 14881819, total predict io cost 0, total refine io cost 4215061760, total refine user 102564, IP bound prune ratio 0.9918, rank prune ratio 0.9999
top150 retrieval time: total 555.658s, total predict 555.658s
	inner product 102.338s, rank bound 25.952s, prune user 19.271s, read disk 406.562s, compute rank 0.087s
	total ip cost 13147888, total predict io cost 0, total refine io cost 1789563392, total refine user 50244, IP bound prune ratio 0.9928, rank prune ratio 1.0000
top100 retrieval time: total 202.941s, total predict 202.941s
	inner product 97.480s, rank bound 25.032s, prune user 18.857s, read disk 60.244s, compute rank 0.002s
	total ip cost 11124455, total predict io cost 0, total refine io cost 538368, total refine user 6678, IP bound prune ratio 0.9939, rank prune ratio 1.0000
top50 retrieval time: total 197.510s, total predict 197.510s
	inner product 96.849s, rank bound 24.538s, prune user 18.412s, read disk 56.376s, compute rank 0.002s
	total ip cost 8489891, total predict io cost 0, total refine io cost 1722880, total refine user 5906, IP bound prune ratio 0.9953, rank prune ratio 1.0000
top10 retrieval time: total 153.761s, total predict 153.761s
	inner product 93.071s, rank bound 23.476s, prune user 17.731s, read disk 18.171s, compute rank 0.000s
	total ip cost 4824293, total predict io cost 0, total refine io cost 361984, total refine user 1658, IP bound prune ratio 0.9974, rank prune ratio 1.0000
[2022-12-09 02:02:20.531] [info] QueryRankSampleMinMaxIntLREstimate dataset_name yelp_more_query, dataset_dir /home/zhengbian/Dataset/ReverseMIPS
[2022-12-09 02:02:20.531] [info] index_dir /home/zhengbian/reverse-k-ranks/index
[2022-12-09 02:02:26.121] [info] n_data_item 159585, n_query_item 1000, n_user 2189457, vec_dim 150
[2022-12-09 02:02:26.121] [info] input parameter: n_sample 490 n_sample_query 5000 sample_topk 100
[2022-12-09 02:02:27.179] [info] index path /home/zhengbian/reverse-k-ranks/index/memory_index/QueryRankSampleIntLR-yelp_more_query-n_sample_490-n_sample_query_5000-sample_topk_100.index
0 1 2 4 6 9 12 15 18 21 25 28 32 36 40 45 50 54 59 64 70 75 80 85 91 97 104 110 116 122 130 137 144 152 160 167 176 183 190 199 206 216 226 235 245 255 265 273 282 292 302 314 325 335 346 359 371 382 393 404 417 428 440 453 467 480 491 507 520 532 544 559 572 589 604 617 634 652 670 686 705 723 743 761 781 802 820 839 858 878 898 920 937 957 973 993 1017 1034 1060 1078 1102 1124 1144 1168 1192 1221 1247 1282 1310 1344 1370 1399 1424 1448 1483 1507 1534 1562 1593 1617 1647 1683 1717 1749 1784 1812 1846 1882 1916 1947 1978 2007 2038 2067 2093 2134 2168 2204 2244 2284 2322 2355 2393 2424 2474 2523 2566 2615 2647 2698 2752 2802 2847 2889 2940 2985 3020 3063 3111 3170 3209 3244 3300 3333 3388 3437 3487 3540 3591 3652 3714 3752 3822 3876 3950 4009 4075 4126 4185 4230 4304 4354 4411 4468 4555 4642 4726 4794 4847 4905 4980 5064 5130 5212 5304 5383 5463 5531 5591 5662 5722 5802 5888 5997 6087 6193 6256 6352 6422 6503 6623 6691 6798 6883 6972 7068 7145 7249 7348 7450 7547 7645 7751 7829 7966 8084 8151 8239 8302 8403 8517 8661 8849 8941 9103 9213 9320 9399 9431 9514 9614 9726 9792 9865 10024 10068 10208 10371 10467 10661 10759 10856 10963 11078 11105 11239 11399 11488 11630 11760 11895 12013 12124 12228 12418 12539 12778 12989 13146 13278 13386 13505 13717 13856 13963 14124 14310 14399 14680 14853 15018 15145 15326 15533 15684 15820 15971 16243 16475 16617 16783 16918 17113 17390 17563 17689 17938 17952 18275 18581 18730 18872 19041 19202 19391 19596 19766 19797 19914 20265 20448 20846 20950 21191 21548 21861 22014 22113 22408 22733 22951 23178 23409 23587 23875 24195 24374 24641 24940 25031 25354 25827 25928 26468 26576 27011 27284 27595 27922 28119 28510 29293 29394 29816 30188 30695 31023 31323 31685 31953 32179 32420 32690 32885 33255 33329 33782 34323 34606 34886 35098 35508 36151 36598 36825 37484 37789 38323 38485 38763 39047 39468 40002 40378 40655 40994 41355 41843 42043 42216 42646 43139 43475 44115 44253 44569 44796 45145 45642 45826 46363 46667 46995 47384 47719 48410 49588 49828 50161 50516 50916 51000 51310 51564 51940 52527 53735 54201 54298 54698 56241 56540 56886 57393 57939 58329 59087 60365 62062 63588 64104 64475 65363 67167 67284 69063 70253 71611 72961 75195 76291 76987 77846 77959 80634 81024 82570 83424 84400 86351 87122 88914 89468 90278 91691 91705 92648 93613 95619 95968 96489 96882 97380 98906 99581 99961 100290 100463 106705 106832 107259 109297 110297 110777 111059 113128 113385 113771 114814 116037 116327 116733 117251 119478 120504 120971 121392 121753 121959 122793 125192 126802 127407 128301 130997 132071 132469 134869 135203 136342 
[2022-12-09 02:02:32.310] [info] index path /home/zhengbian/reverse-k-ranks/index/memory_index/MinMaxLinearRegression-yelp_more_query-n_sample_490-n_sample_query_5000-sample_topk_100.index
[2022-12-09 02:02:32.401] [info] finish preprocess and save the index
[2022-12-09 02:11:27.840] [info] queryID 997, n_prune_user 0, n_result_user 130, total_predicite_IO_cost 50886527461, tmp_refine_user_size 2189327
[2022-12-09 02:11:29.015] [info] queryID 998, n_prune_user 0, n_result_user 142, total_predicite_IO_cost 101772776006, tmp_refine_user_size 2189315
[2022-12-09 02:11:30.196] [info] queryID 999, n_prune_user 0, n_result_user 100, total_predicite_IO_cost 152660000757, tmp_refine_user_size 2189357
[2022-12-09 02:11:30.198] [info] finish top-250
[2022-12-09 02:11:30.198] [info] top250 retrieval time: total 537.793s, total predict 1119875.588s
	inner product 161.933s, rank bound 152.844s, prune user 32.608s, read disk 188.709s, compute rank 0.031s
	total ip cost 160565334, total predict io cost 152660000757, total refine io cost 25736896, total refine user 27476, IP bound prune ratio 0.9267, rank prune ratio 0.9970
[2022-12-09 02:20:00.456] [info] queryID 997, n_prune_user 0, n_result_user 130, total_predicite_IO_cost 50886527461, tmp_refine_user_size 2189327
[2022-12-09 02:20:01.630] [info] queryID 998, n_prune_user 0, n_result_user 142, total_predicite_IO_cost 101772776006, tmp_refine_user_size 2189315
[2022-12-09 02:20:02.809] [info] queryID 999, n_prune_user 0, n_result_user 100, total_predicite_IO_cost 152660000757, tmp_refine_user_size 2189357
[2022-12-09 02:20:02.810] [info] finish top-200
[2022-12-09 02:20:02.810] [info] top200 retrieval time: total 512.610s, total predict 1029020.413s
	inner product 160.123s, rank bound 152.466s, prune user 32.183s, read disk 166.168s, compute rank 0.027s
	total ip cost 155579562, total predict io cost 152660000757, total refine io cost 24664064, total refine user 24109, IP bound prune ratio 0.9289, rank prune ratio 0.9970
[2022-12-09 02:28:01.237] [info] queryID 997, n_prune_user 0, n_result_user 130, total_predicite_IO_cost 50886527461, tmp_refine_user_size 2189327
[2022-12-09 02:28:02.428] [info] queryID 998, n_prune_user 0, n_result_user 142, total_predicite_IO_cost 101772776006, tmp_refine_user_size 2189315
[2022-12-09 02:28:03.624] [info] queryID 999, n_prune_user 0, n_result_user 100, total_predicite_IO_cost 152660000757, tmp_refine_user_size 2189357
[2022-12-09 02:28:03.625] [info] finish top-150
[2022-12-09 02:28:03.625] [info] top150 retrieval time: total 480.814s, total predict 1140464.023s
	inner product 158.344s, rank bound 151.987s, prune user 31.550s, read disk 137.264s, compute rank 0.024s
	total ip cost 147053601, total predict io cost 152660000757, total refine io cost 18381568, total refine user 19893, IP bound prune ratio 0.9328, rank prune ratio 0.9970
[2022-12-09 02:34:29.452] [info] finish top-100
[2022-12-09 02:34:29.452] [info] top100 retrieval time: total 385.826s, total predict 385.826s
	inner product 150.681s, rank bound 150.604s, prune user 30.504s, read disk 52.448s, compute rank 0.004s
	total ip cost 140446584, total predict io cost 0, total refine io cost 694528, total refine user 7052, IP bound prune ratio 0.9359, rank prune ratio 1.0000
[2022-12-09 02:40:37.912] [info] finish top-50
[2022-12-09 02:40:37.912] [info] top50 retrieval time: total 368.459s, total predict 368.459s
	inner product 142.455s, rank bound 148.197s, prune user 28.674s, read disk 47.541s, compute rank 0.004s
	total ip cost 114155377, total predict io cost 0, total refine io cost 4943936, total refine user 6319, IP bound prune ratio 0.9479, rank prune ratio 1.0000
[2022-12-09 02:46:02.078] [info] finish top-10
[2022-12-09 02:46:02.078] [info] top10 retrieval time: total 324.166s, total predict 324.166s
	inner product 134.888s, rank bound 146.107s, prune user 26.758s, read disk 14.855s, compute rank 0.001s
	total ip cost 88412240, total predict io cost 0, total refine io cost 1265088, total refine user 1809, IP bound prune ratio 0.9596, rank prune ratio 1.0000
[2022-12-09 02:46:02.078] [info] build index time: total 6.279137515s
top250 retrieval time: total 537.793s, total predict 1119875.588s
	inner product 161.933s, rank bound 152.844s, prune user 32.608s, read disk 188.709s, compute rank 0.031s
	total ip cost 160565334, total predict io cost 152660000757, total refine io cost 25736896, total refine user 27476, IP bound prune ratio 0.9267, rank prune ratio 0.9970
top200 retrieval time: total 512.610s, total predict 1029020.413s
	inner product 160.123s, rank bound 152.466s, prune user 32.183s, read disk 166.168s, compute rank 0.027s
	total ip cost 155579562, total predict io cost 152660000757, total refine io cost 24664064, total refine user 24109, IP bound prune ratio 0.9289, rank prune ratio 0.9970
top150 retrieval time: total 480.814s, total predict 1140464.023s
	inner product 158.344s, rank bound 151.987s, prune user 31.550s, read disk 137.264s, compute rank 0.024s
	total ip cost 147053601, total predict io cost 152660000757, total refine io cost 18381568, total refine user 19893, IP bound prune ratio 0.9328, rank prune ratio 0.9970
top100 retrieval time: total 385.826s, total predict 385.826s
	inner product 150.681s, rank bound 150.604s, prune user 30.504s, read disk 52.448s, compute rank 0.004s
	total ip cost 140446584, total predict io cost 0, total refine io cost 694528, total refine user 7052, IP bound prune ratio 0.9359, rank prune ratio 1.0000
top50 retrieval time: total 368.459s, total predict 368.459s
	inner product 142.455s, rank bound 148.197s, prune user 28.674s, read disk 47.541s, compute rank 0.004s
	total ip cost 114155377, total predict io cost 0, total refine io cost 4943936, total refine user 6319, IP bound prune ratio 0.9479, rank prune ratio 1.0000
top10 retrieval time: total 324.166s, total predict 324.166s
	inner product 134.888s, rank bound 146.107s, prune user 26.758s, read disk 14.855s, compute rank 0.001s
	total ip cost 88412240, total predict io cost 0, total refine io cost 1265088, total refine user 1809, IP bound prune ratio 0.9596, rank prune ratio 1.0000
[2022-12-09 02:46:02.835] [info] QueryRankSampleUniformIntLREstimate dataset_name yahoomusic_big_more_query, dataset_dir /home/zhengbian/Dataset/ReverseMIPS
[2022-12-09 02:46:02.835] [info] index_dir /home/zhengbian/reverse-k-ranks/index
[2022-12-09 02:46:07.498] [info] n_data_item 135736, n_query_item 1000, n_user 1823179, vec_dim 150
[2022-12-09 02:46:07.498] [info] input parameter: n_sample 588 n_sample_query 5000 sample_topk 150
[2022-12-09 02:46:08.387] [info] index path /home/zhengbian/reverse-k-ranks/index/memory_index/QueryRankSampleIntLR-yahoomusic_big_more_query-n_sample_588-n_sample_query_5000-sample_topk_150.index
0 1 2 3 4 5 6 8 10 12 14 16 18 20 22 24 27 30 32 35 38 41 44 47 50 54 58 62 66 70 74 78 82 86 90 94 98 103 108 113 119 124 130 136 142 147 154 160 166 172 179 184 191 198 204 211 217 224 232 240 247 255 263 270 278 286 294 302 309 318 328 335 342 351 359 369 378 389 399 410 420 430 440 452 462 473 483 494 504 515 527 539 552 563 577 589 603 615 628 643 652 666 681 697 712 730 748 766 781 796 813 828 845 859 875 895 913 929 947 967 987 1001 1019 1032 1054 1068 1085 1107 1126 1148 1167 1185 1200 1221 1237 1260 1277 1295 1315 1336 1360 1384 1404 1428 1452 1477 1503 1528 1551 1581 1597 1622 1644 1665 1693 1714 1739 1770 1799 1828 1860 1886 1910 1931 1959 1982 2014 2038 2069 2095 2124 2148 2179 2207 2237 2268 2299 2333 2367 2392 2419 2443 2486 2522 2568 2609 2655 2703 2735 2772 2801 2846 2891 2921 2953 2984 3039 3084 3133 3186 3223 3257 3307 3351 3393 3451 3480 3522 3560 3602 3657 3693 3727 3770 3808 3854 3900 3948 3994 4040 4091 4149 4198 4264 4325 4368 4418 4469 4520 4570 4616 4675 4734 4780 4827 4875 4938 5017 5067 5140 5216 5276 5327 5383 5449 5506 5577 5636 5705 5743 5799 5851 5925 5994 6065 6137 6205 6268 6323 6397 6444 6508 6591 6652 6729 6804 6860 6976 7022 7121 7213 7285 7399 7459 7519 7597 7703 7771 7844 7908 7971 8038 8149 8217 8291 8368 8429 8532 8637 8710 8753 8862 8942 9057 9182 9250 9361 9496 9607 9737 9871 9960 10026 10129 10184 10265 10332 10395 10491 10564 10645 10728 10885 11015 11097 11224 11291 11391 11508 11627 11706 11809 11892 11967 12062 12180 12311 12440 12536 12638 12774 12876 12990 13131 13204 13314 13384 13558 13713 13810 13952 14141 14218 14285 14428 14568 14735 14829 15010 15190 15372 15476 15597 15680 15801 15873 16060 16169 16288 16363 16536 16712 16779 16985 17150 17259 17453 17747 17816 17984 18114 18255 18551 18817 18940 19084 19223 19288 19420 19563 19734 19928 20091 20231 20369 20516 20686 20825 20998 21259 21400 21589 21764 21893 22042 22228 22308 22499 22682 22911 23054 23261 23413 23583 23740 24105 24161 24372 24612 24856 24974 25161 25307 25625 26061 26293 26406 26689 27068 27258 27653 27790 28129 28481 28520 28776 28889 29090 29236 29475 29557 30130 30321 30673 30744 30979 31175 31394 31752 31951 32175 32368 32735 33181 33279 33733 33922 34106 34418 34753 34917 35354 35493 35860 36141 36300 36459 36634 36866 37096 37334 37556 37786 38051 38511 38758 39069 39329 40802 40863 41001 41225 41597 41923 42156 42298 42526 43301 43505 43619 43836 44296 44545 44973 45547 45757 46338 47964 48189 48462 48655 48916 49321 49713 50091 50279 50475 51089 51207 51732 52007 52429 52762 52929 53230 53344 53549 53756 54256 54646 55444 55496 55836 55966 56558 56908 57235 57408 57637 58279 58500 58810 58863 59816 59970 60113 60351 60482 60700 60770 61931 62009 62562 62734 62957 63505 63638 63897 64161 64341 64629 64967 65525 65730 66240 66611 67387 67552 67652 67884 68047 68403 68691 68887 69149 69882 69932 70324 70508 70772 71156 71316 71500 71553 71717 72235 72243 72575 73045 73193 73493 74036 74368 74596 74892 75062 75230 75817 76727 78293 79157 79314 81200 83415 83794 84222 85439 87210 
[2022-12-09 02:46:13.483] [info] index path /home/zhengbian/reverse-k-ranks/index/memory_index/UniformLinearRegression-yahoomusic_big_more_query-n_sample_588-n_sample_query_5000-sample_topk_150.index
[2022-12-09 02:46:13.559] [info] finish preprocess and save the index
[2022-12-09 02:57:45.586] [info] finish top-250
[2022-12-09 02:57:45.586] [info] top250 retrieval time: total 692.023s, total predict 692.023s
	inner product 106.115s, rank bound 27.105s, prune user 20.098s, read disk 537.082s, compute rank 0.126s
	total ip cost 17881477, total predict io cost 0, total refine io cost 2274056256, total refine user 67728, IP bound prune ratio 0.9902, rank prune ratio 1.0000
[2022-12-09 03:08:44.896] [info] finish top-200
[2022-12-09 03:08:44.896] [info] top200 retrieval time: total 659.307s, total predict 659.307s
	inner product 103.898s, rank bound 26.523s, prune user 19.763s, read disk 507.527s, compute rank 0.121s
	total ip cost 16238534, total predict io cost 0, total refine io cost 2272363968, total refine user 64054, IP bound prune ratio 0.9911, rank prune ratio 1.0000
[2022-12-09 03:12:31.083] [info] finish top-150
[2022-12-09 03:12:31.083] [info] top150 retrieval time: total 226.185s, total predict 226.185s
	inner product 99.607s, rank bound 25.838s, prune user 19.348s, read disk 80.046s, compute rank 0.004s
	total ip cost 14387065, total predict io cost 0, total refine io cost 772480, total refine user 9213, IP bound prune ratio 0.9921, rank prune ratio 1.0000
[2022-12-09 03:16:31.308] [info] finish top-100
[2022-12-09 03:16:31.308] [info] top100 retrieval time: total 240.224s, total predict 240.224s
	inner product 101.073s, rank bound 25.635s, prune user 19.107s, read disk 93.042s, compute rank 0.005s
	total ip cost 12198527, total predict io cost 0, total refine io cost 3730560, total refine user 10566, IP bound prune ratio 0.9933, rank prune ratio 1.0000
[2022-12-09 03:19:45.956] [info] finish top-50
[2022-12-09 03:19:45.956] [info] top50 retrieval time: total 194.648s, total predict 194.648s
	inner product 94.420s, rank bound 24.297s, prune user 18.451s, read disk 56.133s, compute rank 0.002s
	total ip cost 9351767, total predict io cost 0, total refine io cost 1616256, total refine user 5810, IP bound prune ratio 0.9949, rank prune ratio 1.0000
[2022-12-09 03:22:18.500] [info] finish top-10
[2022-12-09 03:22:18.500] [info] top10 retrieval time: total 152.543s, total predict 152.543s
	inner product 92.826s, rank bound 23.532s, prune user 17.887s, read disk 16.975s, compute rank 0.000s
	total ip cost 5343790, total predict io cost 0, total refine io cost 241088, total refine user 1571, IP bound prune ratio 0.9971, rank prune ratio 1.0000
[2022-12-09 03:22:18.500] [info] build index time: total 6.060627829s
top250 retrieval time: total 692.023s, total predict 692.023s
	inner product 106.115s, rank bound 27.105s, prune user 20.098s, read disk 537.082s, compute rank 0.126s
	total ip cost 17881477, total predict io cost 0, total refine io cost 2274056256, total refine user 67728, IP bound prune ratio 0.9902, rank prune ratio 1.0000
top200 retrieval time: total 659.307s, total predict 659.307s
	inner product 103.898s, rank bound 26.523s, prune user 19.763s, read disk 507.527s, compute rank 0.121s
	total ip cost 16238534, total predict io cost 0, total refine io cost 2272363968, total refine user 64054, IP bound prune ratio 0.9911, rank prune ratio 1.0000
top150 retrieval time: total 226.185s, total predict 226.185s
	inner product 99.607s, rank bound 25.838s, prune user 19.348s, read disk 80.046s, compute rank 0.004s
	total ip cost 14387065, total predict io cost 0, total refine io cost 772480, total refine user 9213, IP bound prune ratio 0.9921, rank prune ratio 1.0000
top100 retrieval time: total 240.224s, total predict 240.224s
	inner product 101.073s, rank bound 25.635s, prune user 19.107s, read disk 93.042s, compute rank 0.005s
	total ip cost 12198527, total predict io cost 0, total refine io cost 3730560, total refine user 10566, IP bound prune ratio 0.9933, rank prune ratio 1.0000
top50 retrieval time: total 194.648s, total predict 194.648s
	inner product 94.420s, rank bound 24.297s, prune user 18.451s, read disk 56.133s, compute rank 0.002s
	total ip cost 9351767, total predict io cost 0, total refine io cost 1616256, total refine user 5810, IP bound prune ratio 0.9949, rank prune ratio 1.0000
top10 retrieval time: total 152.543s, total predict 152.543s
	inner product 92.826s, rank bound 23.532s, prune user 17.887s, read disk 16.975s, compute rank 0.000s
	total ip cost 5343790, total predict io cost 0, total refine io cost 241088, total refine user 1571, IP bound prune ratio 0.9971, rank prune ratio 1.0000
[2022-12-09 03:22:19.237] [info] QueryRankSampleMinMaxIntLREstimate dataset_name yelp_more_query, dataset_dir /home/zhengbian/Dataset/ReverseMIPS
[2022-12-09 03:22:19.238] [info] index_dir /home/zhengbian/reverse-k-ranks/index
[2022-12-09 03:22:24.838] [info] n_data_item 159585, n_query_item 1000, n_user 2189457, vec_dim 150
[2022-12-09 03:22:24.838] [info] input parameter: n_sample 490 n_sample_query 5000 sample_topk 150
[2022-12-09 03:22:25.900] [info] index path /home/zhengbian/reverse-k-ranks/index/memory_index/QueryRankSampleIntLR-yelp_more_query-n_sample_490-n_sample_query_5000-sample_topk_150.index
0 2 4 6 9 12 15 18 21 25 29 33 37 41 45 50 55 60 65 71 77 83 88 94 100 108 115 122 129 137 145 153 162 171 180 189 199 207 215 224 234 246 257 267 278 289 299 311 324 337 350 361 374 386 400 413 427 441 455 468 481 495 511 525 542 554 570 585 599 615 630 649 668 685 702 719 739 761 780 798 819 836 859 878 895 919 941 965 987 1011 1033 1060 1082 1104 1125 1148 1173 1199 1223 1250 1278 1302 1328 1355 1384 1415 1440 1481 1514 1541 1574 1601 1643 1680 1708 1745 1779 1811 1840 1876 1903 1934 1969 1998 2029 2065 2105 2145 2183 2217 2255 2291 2324 2354 2391 2439 2481 2539 2579 2631 2673 2704 2734 2778 2833 2887 2949 3001 3039 3091 3145 3189 3244 3291 3341 3385 3443 3444 3502 3558 3616 3665 3732 3814 3875 3939 4000 4053 4150 4196 4255 4305 4373 4440 4501 4571 4624 4679 4768 4833 4892 4965 5046 5102 5178 5254 5374 5445 5504 5581 5652 5717 5796 5882 5965 6036 6104 6208 6263 6325 6407 6457 6554 6642 6695 6784 6898 6991 7059 7176 7268 7382 7496 7563 7683 7824 7891 8035 8143 8217 8311 8416 8507 8605 8706 8836 8975 9162 9256 9329 9490 9500 9591 9670 9764 9877 9954 10054 10179 10258 10412 10520 10612 10713 10837 11026 11154 11208 11296 11408 11501 11614 11738 12046 12300 12436 12677 12758 12843 12991 13128 13248 13380 13549 13682 13962 14110 14300 14473 14650 14791 15073 15219 15362 15549 15652 15789 16057 16189 16513 16693 17013 17196 17332 17525 17774 17953 18010 18185 18396 18614 18768 18975 19236 19489 19737 19934 20022 20273 20382 20524 20734 20980 21213 21496 21693 21941 22144 22429 22805 23034 23254 23434 23742 24024 24281 24424 24547 25010 25215 25407 25617 25832 26255 26510 26822 27298 27628 27836 28152 28486 28660 29063 29427 29671 29858 30143 30414 31015 31258 31706 31939 32488 33094 33412 33787 34023 34194 34393 34905 35019 35217 35701 35992 36260 37003 37228 37596 37987 38292 38578 38790 39064 39533 40097 40535 41371 41925 42128 42243 42341 43073 43345 43758 44292 44470 44701 45055 45350 45597 46171 46301 46676 47054 47303 47544 47855 48329 49386 49671 50030 50500 50866 51467 51620 51838 52140 52676 52852 53267 53749 54786 55068 55266 55889 56558 57164 57660 58178 58501 58639 59338 60795 62130 62492 63987 64521 65411 66764 67066 67500 68494 69126 69405 69741 71650 73501 73614 74258 78004 78037 78744 79494 81097 81628 83818 86812 87538 88118 89830 90853 91362 92861 93868 94677 95064 96470 96537 98414 98939 99936 100473 101106 102013 102674 103123 104000 104135 108918 109288 110029 113012 113254 114027 114265 115409 115795 116285 116701 118375 118656 119634 119779 122207 122829 123162 123577 124105 124412 124635 127224 128966 129153 130169 133201 133583 134377 136537 136778 137562 
[2022-12-09 03:22:31.193] [info] index path /home/zhengbian/reverse-k-ranks/index/memory_index/MinMaxLinearRegression-yelp_more_query-n_sample_490-n_sample_query_5000-sample_topk_150.index
[2022-12-09 03:22:31.286] [info] finish preprocess and save the index
[2022-12-09 03:31:19.482] [info] queryID 997, n_prune_user 0, n_result_user 194, total_predicite_IO_cost 48214139049, tmp_refine_user_size 2189263
[2022-12-09 03:31:20.661] [info] queryID 998, n_prune_user 0, n_result_user 186, total_predicite_IO_cost 96428454282, tmp_refine_user_size 2189271
[2022-12-09 03:31:21.837] [info] queryID 999, n_prune_user 0, n_result_user 150, total_predicite_IO_cost 144643562343, tmp_refine_user_size 2189307
[2022-12-09 03:31:21.839] [info] finish top-250
[2022-12-09 03:31:21.839] [info] top250 retrieval time: total 530.549s, total predict 1084949.971s
	inner product 161.892s, rank bound 146.555s, prune user 32.525s, read disk 187.879s, compute rank 0.030s
	total ip cost 154578109, total predict io cost 144643562343, total refine io cost 25059904, total refine user 27161, IP bound prune ratio 0.9294, rank prune ratio 0.9970
[2022-12-09 03:39:29.102] [info] queryID 997, n_prune_user 0, n_result_user 194, total_predicite_IO_cost 48214139049, tmp_refine_user_size 2189263
[2022-12-09 03:39:30.280] [info] queryID 998, n_prune_user 0, n_result_user 186, total_predicite_IO_cost 96428454282, tmp_refine_user_size 2189271
[2022-12-09 03:39:31.454] [info] queryID 999, n_prune_user 0, n_result_user 150, total_predicite_IO_cost 144643562343, tmp_refine_user_size 2189307
[2022-12-09 03:39:31.455] [info] finish top-200
[2022-12-09 03:39:31.455] [info] top200 retrieval time: total 489.614s, total predict 1320980.506s
	inner product 159.132s, rank bound 145.783s, prune user 31.866s, read disk 151.156s, compute rank 0.021s
	total ip cost 148863314, total predict io cost 144643562343, total refine io cost 16557312, total refine user 21503, IP bound prune ratio 0.9320, rank prune ratio 0.9970
[2022-12-09 03:46:21.157] [info] finish top-150
[2022-12-09 03:46:21.157] [info] top150 retrieval time: total 409.701s, total predict 409.701s
	inner product 152.074s, rank bound 144.385s, prune user 30.923s, read disk 80.713s, compute rank 0.007s
	total ip cost 142906599, total predict io cost 0, total refine io cost 1319808, total refine user 11276, IP bound prune ratio 0.9347, rank prune ratio 1.0000
[2022-12-09 03:53:17.027] [info] finish top-100
[2022-12-09 03:53:17.027] [info] top100 retrieval time: total 415.869s, total predict 415.869s
	inner product 153.197s, rank bound 144.589s, prune user 30.311s, read disk 86.153s, compute rank 0.010s
	total ip cost 132464995, total predict io cost 0, total refine io cost 7275776, total refine user 11890, IP bound prune ratio 0.9395, rank prune ratio 1.0000
[2022-12-09 03:59:24.992] [info] finish top-50
[2022-12-09 03:59:24.992] [info] top50 retrieval time: total 367.964s, total predict 367.964s
	inner product 146.370s, rank bound 142.399s, prune user 28.394s, read disk 49.197s, compute rank 0.005s
	total ip cost 104631022, total predict io cost 0, total refine io cost 4509184, total refine user 6593, IP bound prune ratio 0.9522, rank prune ratio 1.0000
[2022-12-09 04:04:42.752] [info] finish top-10
[2022-12-09 04:04:42.752] [info] top10 retrieval time: total 317.759s, total predict 317.759s
	inner product 135.394s, rank bound 139.633s, prune user 26.302s, read disk 14.864s, compute rank 0.001s
	total ip cost 77521541, total predict io cost 0, total refine io cost 917440, total refine user 1824, IP bound prune ratio 0.9646, rank prune ratio 1.0000
[2022-12-09 04:04:42.752] [info] build index time: total 6.448069458s
top250 retrieval time: total 530.549s, total predict 1084949.971s
	inner product 161.892s, rank bound 146.555s, prune user 32.525s, read disk 187.879s, compute rank 0.030s
	total ip cost 154578109, total predict io cost 144643562343, total refine io cost 25059904, total refine user 27161, IP bound prune ratio 0.9294, rank prune ratio 0.9970
top200 retrieval time: total 489.614s, total predict 1320980.506s
	inner product 159.132s, rank bound 145.783s, prune user 31.866s, read disk 151.156s, compute rank 0.021s
	total ip cost 148863314, total predict io cost 144643562343, total refine io cost 16557312, total refine user 21503, IP bound prune ratio 0.9320, rank prune ratio 0.9970
top150 retrieval time: total 409.701s, total predict 409.701s
	inner product 152.074s, rank bound 144.385s, prune user 30.923s, read disk 80.713s, compute rank 0.007s
	total ip cost 142906599, total predict io cost 0, total refine io cost 1319808, total refine user 11276, IP bound prune ratio 0.9347, rank prune ratio 1.0000
top100 retrieval time: total 415.869s, total predict 415.869s
	inner product 153.197s, rank bound 144.589s, prune user 30.311s, read disk 86.153s, compute rank 0.010s
	total ip cost 132464995, total predict io cost 0, total refine io cost 7275776, total refine user 11890, IP bound prune ratio 0.9395, rank prune ratio 1.0000
top50 retrieval time: total 367.964s, total predict 367.964s
	inner product 146.370s, rank bound 142.399s, prune user 28.394s, read disk 49.197s, compute rank 0.005s
	total ip cost 104631022, total predict io cost 0, total refine io cost 4509184, total refine user 6593, IP bound prune ratio 0.9522, rank prune ratio 1.0000
top10 retrieval time: total 317.759s, total predict 317.759s
	inner product 135.394s, rank bound 139.633s, prune user 26.302s, read disk 14.864s, compute rank 0.001s
	total ip cost 77521541, total predict io cost 0, total refine io cost 917440, total refine user 1824, IP bound prune ratio 0.9646, rank prune ratio 1.0000
[2022-12-09 04:04:43.523] [info] QueryRankSampleUniformIntLREstimate dataset_name yahoomusic_big_more_query, dataset_dir /home/zhengbian/Dataset/ReverseMIPS
[2022-12-09 04:04:43.523] [info] index_dir /home/zhengbian/reverse-k-ranks/index
[2022-12-09 04:04:48.238] [info] n_data_item 135736, n_query_item 1000, n_user 1823179, vec_dim 150
[2022-12-09 04:04:48.238] [info] input parameter: n_sample 588 n_sample_query 5000 sample_topk 200
[2022-12-09 04:04:49.127] [info] index path /home/zhengbian/reverse-k-ranks/index/memory_index/QueryRankSampleIntLR-yahoomusic_big_more_query-n_sample_588-n_sample_query_5000-sample_topk_200.index
0 1 2 3 4 5 7 9 11 13 15 17 19 21 23 25 27 30 33 36 39 42 45 48 51 55 59 63 66 70 74 78 83 88 92 97 102 106 111 117 122 128 134 140 146 152 158 164 171 177 183 189 195 203 210 217 225 233 240 247 254 262 271 279 288 297 305 313 323 333 342 352 361 370 379 388 397 408 417 428 438 450 462 471 481 491 501 514 527 539 550 565 580 594 608 623 637 651 665 680 696 711 726 740 756 772 788 806 821 838 852 869 884 901 919 939 959 980 998 1017 1038 1062 1076 1096 1117 1133 1157 1177 1199 1221 1242 1267 1289 1313 1336 1354 1376 1398 1416 1434 1459 1481 1503 1526 1543 1563 1588 1614 1639 1670 1695 1720 1746 1781 1807 1831 1863 1895 1924 1961 1991 2018 2049 2082 2104 2134 2156 2194 2223 2259 2281 2319 2344 2378 2415 2446 2484 2508 2540 2576 2612 2644 2685 2722 2764 2811 2854 2893 2928 2974 3016 3058 3094 3123 3154 3223 3256 3301 3342 3383 3429 3468 3502 3557 3608 3646 3695 3742 3806 3850 3905 3960 4013 4061 4108 4152 4216 4266 4317 4358 4428 4496 4564 4634 4690 4728 4777 4849 4895 4945 5011 5063 5125 5190 5233 5302 5369 5440 5497 5545 5609 5657 5738 5819 5882 5956 6003 6079 6145 6202 6280 6364 6436 6506 6597 6652 6736 6810 6882 6944 7000 7071 7150 7202 7268 7335 7390 7469 7564 7693 7764 7848 7943 8040 8109 8220 8320 8412 8496 8573 8671 8767 8864 8937 9005 9123 9202 9281 9363 9481 9559 9645 9768 9882 9967 10052 10151 10280 10369 10498 10625 10728 10821 10949 11028 11106 11226 11302 11408 11527 11631 11702 11831 11923 12049 12211 12307 12419 12539 12631 12709 12805 12850 12960 13066 13204 13290 13445 13521 13591 13750 13859 13973 14120 14287 14396 14517 14612 14769 14831 14970 15062 15255 15408 15523 15642 15774 15957 16185 16327 16444 16579 16770 16916 17058 17191 17362 17498 17772 17897 18024 18269 18397 18535 18651 18770 18943 19125 19334 19532 19814 19963 20112 20259 20427 20605 20722 20848 20929 21031 21199 21368 21683 21810 21975 22231 22281 22590 22758 22922 23139 23316 23447 23562 23736 23954 24027 24252 24405 24591 24708 24903 25096 25569 25741 25885 26015 26294 26568 26782 27289 27369 27932 28098 28208 28736 28889 29061 29241 29784 29989 30130 30369 30520 30750 30889 31118 31430 31589 31937 32146 32431 32591 32897 33202 33432 33648 33802 34077 34256 35051 35180 35378 35681 35983 36223 36400 36747 36818 37390 37524 37748 37845 38011 38236 38469 38724 38885 39061 39384 39835 40017 40289 40599 40925 41274 41982 42170 42331 42548 42786 43324 43467 43672 43860 44355 44525 44653 44825 45101 45180 46204 46235 46722 46986 47196 48094 48842 49313 49703 49766 50212 50467 50733 50922 51538 51604 51951 52257 52687 53005 53521 53621 53819 53935 54030 54346 54525 54748 54832 55400 55679 56569 56847 56970 57574 58156 58456 58726 59001 59376 59728 59843 60086 60814 61183 61726 61912 62434 62805 63158 63351 63686 64121 64371 64590 64971 65331 65448 65571 65802 66213 66400 67312 67512 68140 68580 68883 69106 69272 69470 69602 69923 70136 70888 71078 71447 71804 71899 72160 72342 72548 72882 73073 73433 73670 73919 74148 74423 74564 74943 75284 75486 75681 75940 75976 76229 77057 77686 79326 80097 80121 82424 84451 84987 85292 86218 88226 
[2022-12-09 04:04:54.229] [info] index path /home/zhengbian/reverse-k-ranks/index/memory_index/UniformLinearRegression-yahoomusic_big_more_query-n_sample_588-n_sample_query_5000-sample_topk_200.index
[2022-12-09 04:04:54.304] [info] finish preprocess and save the index
[2022-12-09 04:17:30.449] [info] finish top-250
[2022-12-09 04:17:30.449] [info] top250 retrieval time: total 756.140s, total predict 756.140s
	inner product 104.520s, rank bound 26.786s, prune user 20.810s, read disk 602.364s, compute rank 0.141s
	total ip cost 17877719, total predict io cost 0, total refine io cost 2676945024, total refine user 76938, IP bound prune ratio 0.9902, rank prune ratio 1.0000
[2022-12-09 04:21:36.215] [info] finish top-200
[2022-12-09 04:21:36.215] [info] top200 retrieval time: total 245.763s, total predict 245.763s
	inner product 100.745s, rank bound 26.231s, prune user 20.509s, read disk 96.923s, compute rank 0.005s
	total ip cost 16242986, total predict io cost 0, total refine io cost 997440, total refine user 11470, IP bound prune ratio 0.9911, rank prune ratio 1.0000
[2022-12-09 04:26:03.009] [info] finish top-150
[2022-12-09 04:26:03.009] [info] top150 retrieval time: total 266.793s, total predict 266.793s
	inner product 101.987s, rank bound 25.978s, prune user 20.204s, read disk 117.243s, compute rank 0.008s
	total ip cost 14378656, total predict io cost 0, total refine io cost 3723840, total refine user 13693, IP bound prune ratio 0.9921, rank prune ratio 1.0000
[2022-12-09 04:30:00.244] [info] finish top-100
[2022-12-09 04:30:00.244] [info] top100 retrieval time: total 237.233s, total predict 237.233s
	inner product 100.439s, rank bound 25.430s, prune user 19.855s, read disk 90.145s, compute rank 0.005s
	total ip cost 12226524, total predict io cost 0, total refine io cost 2560512, total refine user 10071, IP bound prune ratio 0.9933, rank prune ratio 1.0000
[2022-12-09 04:33:18.918] [info] finish top-50
[2022-12-09 04:33:18.918] [info] top50 retrieval time: total 198.673s, total predict 198.673s
	inner product 97.201s, rank bound 24.617s, prune user 19.345s, read disk 56.161s, compute rank 0.002s
	total ip cost 9371609, total predict io cost 0, total refine io cost 1497856, total refine user 5908, IP bound prune ratio 0.9949, rank prune ratio 1.0000
[2022-12-09 04:35:52.396] [info] finish top-10
[2022-12-09 04:35:52.396] [info] top10 retrieval time: total 153.477s, total predict 153.477s
	inner product 92.601s, rank bound 23.470s, prune user 18.610s, read disk 17.475s, compute rank 0.000s
	total ip cost 5326385, total predict io cost 0, total refine io cost 231680, total refine user 1568, IP bound prune ratio 0.9971, rank prune ratio 1.0000
[2022-12-09 04:35:52.396] [info] build index time: total 6.066407432s
top250 retrieval time: total 756.140s, total predict 756.140s
	inner product 104.520s, rank bound 26.786s, prune user 20.810s, read disk 602.364s, compute rank 0.141s
	total ip cost 17877719, total predict io cost 0, total refine io cost 2676945024, total refine user 76938, IP bound prune ratio 0.9902, rank prune ratio 1.0000
top200 retrieval time: total 245.763s, total predict 245.763s
	inner product 100.745s, rank bound 26.231s, prune user 20.509s, read disk 96.923s, compute rank 0.005s
	total ip cost 16242986, total predict io cost 0, total refine io cost 997440, total refine user 11470, IP bound prune ratio 0.9911, rank prune ratio 1.0000
top150 retrieval time: total 266.793s, total predict 266.793s
	inner product 101.987s, rank bound 25.978s, prune user 20.204s, read disk 117.243s, compute rank 0.008s
	total ip cost 14378656, total predict io cost 0, total refine io cost 3723840, total refine user 13693, IP bound prune ratio 0.9921, rank prune ratio 1.0000
top100 retrieval time: total 237.233s, total predict 237.233s
	inner product 100.439s, rank bound 25.430s, prune user 19.855s, read disk 90.145s, compute rank 0.005s
	total ip cost 12226524, total predict io cost 0, total refine io cost 2560512, total refine user 10071, IP bound prune ratio 0.9933, rank prune ratio 1.0000
top50 retrieval time: total 198.673s, total predict 198.673s
	inner product 97.201s, rank bound 24.617s, prune user 19.345s, read disk 56.161s, compute rank 0.002s
	total ip cost 9371609, total predict io cost 0, total refine io cost 1497856, total refine user 5908, IP bound prune ratio 0.9949, rank prune ratio 1.0000
top10 retrieval time: total 153.477s, total predict 153.477s
	inner product 92.601s, rank bound 23.470s, prune user 18.610s, read disk 17.475s, compute rank 0.000s
	total ip cost 5326385, total predict io cost 0, total refine io cost 231680, total refine user 1568, IP bound prune ratio 0.9971, rank prune ratio 1.0000
[2022-12-09 04:35:53.132] [info] QueryRankSampleMinMaxIntLREstimate dataset_name yelp_more_query, dataset_dir /home/zhengbian/Dataset/ReverseMIPS
[2022-12-09 04:35:53.132] [info] index_dir /home/zhengbian/reverse-k-ranks/index
[2022-12-09 04:35:58.716] [info] n_data_item 159585, n_query_item 1000, n_user 2189457, vec_dim 150
[2022-12-09 04:35:58.716] [info] input parameter: n_sample 490 n_sample_query 5000 sample_topk 200
[2022-12-09 04:35:59.774] [info] index path /home/zhengbian/reverse-k-ranks/index/memory_index/QueryRankSampleIntLR-yelp_more_query-n_sample_490-n_sample_query_5000-sample_topk_200.index
0 1 3 5 8 11 15 18 22 25 30 34 38 43 47 52 57 63 69 75 82 88 94 100 106 113 120 128 135 142 151 160 170 181 189 198 208 217 228 239 249 262 274 285 295 308 321 332 345 359 374 390 402 415 428 444 459 471 486 503 518 535 550 567 584 600 614 632 648 665 682 702 723 744 767 789 808 833 856 880 902 919 942 970 992 1016 1040 1065 1094 1121 1148 1164 1189 1217 1247 1275 1304 1329 1356 1385 1415 1441 1471 1507 1532 1563 1597 1636 1668 1699 1732 1764 1801 1837 1865 1903 1938 1973 2005 2037 2074 2112 2148 2182 2223 2252 2299 2343 2373 2423 2466 2507 2547 2595 2641 2684 2727 2773 2817 2873 2910 2958 3004 3054 3095 3158 3210 3268 3325 3364 3401 3442 3444 3493 3560 3615 3683 3735 3787 3843 3904 3960 4019 4077 4142 4186 4241 4298 4369 4424 4449 4528 4601 4682 4759 4841 4890 4984 5067 5133 5227 5297 5357 5442 5518 5628 5733 5810 5899 5971 6025 6102 6209 6310 6416 6507 6588 6672 6781 6852 6945 7023 7131 7209 7291 7360 7434 7515 7625 7713 7821 7931 8020 8102 8238 8331 8432 8547 8675 8773 8909 8992 9103 9160 9327 9441 9500 9647 9739 9794 9920 9948 10051 10144 10251 10319 10462 10638 10709 10831 10913 11039 11171 11310 11402 11450 11586 11671 11834 11966 12093 12203 12422 12588 12790 12881 13100 13239 13397 13592 13723 13861 14008 14201 14331 14525 14634 14881 15112 15342 15478 15638 15894 16059 16255 16389 16560 16680 16847 17142 17485 17615 17836 18026 18251 18434 18628 18888 19085 19332 19565 19774 20112 20225 20452 20715 20960 21253 21422 21588 21850 22058 22307 22735 22925 23380 23599 23822 24086 24378 24548 24855 25190 25371 25568 25801 25975 26337 26558 26926 27139 27442 27554 28010 28392 28751 29579 29723 30157 30563 30833 31252 31403 31859 32073 32321 32542 32887 33418 33524 33933 34120 34723 34899 35350 35855 36143 36524 36780 37081 37379 37653 38066 38479 38953 39273 39774 39979 40506 40616 40888 41561 41983 42251 42465 42776 43241 44062 44204 44570 44632 45093 45962 46217 46503 46748 47160 47394 47814 48317 48681 49003 49402 49801 50227 50892 51479 51508 52057 52657 52987 53276 53534 54083 54667 55150 55342 55852 56047 57117 57308 57912 58458 58643 59842 60296 60952 61136 61702 62114 62644 63777 65724 66496 66729 67467 68264 69445 70037 70590 71388 71786 72085 73140 74970 76261 76732 77177 78801 80594 81416 82248 82277 84127 84379 86204 89172 90151 92042 92581 93706 95129 96231 97265 97749 98425 100266 100941 101377 102434 102733 103113 103466 104620 105307 105407 105902 106614 110410 111100 111922 115085 115299 115879 116572 117236 117362 117888 118282 119904 120224 121010 121456 121720 123694 124395 125041 125285 126097 126230 128887 130539 131088 131241 134484 134683 135268 137634 137830 138403 
[2022-12-09 04:36:05.090] [info] index path /home/zhengbian/reverse-k-ranks/index/memory_index/MinMaxLinearRegression-yelp_more_query-n_sample_490-n_sample_query_5000-sample_topk_200.index
[2022-12-09 04:36:05.183] [info] finish preprocess and save the index
[2022-12-09 04:45:21.966] [info] queryID 997, n_prune_user 0, n_result_user 230, total_predicite_IO_cost 46372206314, tmp_refine_user_size 2189227
[2022-12-09 04:45:24.284] [info] queryID 999, n_prune_user 0, n_result_user 200, total_predicite_IO_cost 92745048088, tmp_refine_user_size 2189257
[2022-12-09 04:45:24.286] [info] finish top-250
[2022-12-09 04:45:24.286] [info] top250 retrieval time: total 559.099s, total predict 775885.244s
	inner product 162.735s, rank bound 146.190s, prune user 32.904s, read disk 215.555s, compute rank 0.038s
	total ip cost 155249518, total predict io cost 92745048088, total refine io cost 25784896, total refine user 32134, IP bound prune ratio 0.9291, rank prune ratio 0.9980
[2022-12-09 04:52:34.568] [info] finish top-200
[2022-12-09 04:52:34.568] [info] top200 retrieval time: total 430.280s, total predict 430.280s
	inner product 155.963s, rank bound 145.290s, prune user 32.022s, read disk 95.387s, compute rank 0.009s
	total ip cost 149907039, total predict io cost 0, total refine io cost 1836800, total refine user 13278, IP bound prune ratio 0.9315, rank prune ratio 1.0000
[2022-12-09 05:00:05.795] [info] finish top-150
[2022-12-09 05:00:05.795] [info] top150 retrieval time: total 451.225s, total predict 451.225s
	inner product 156.842s, rank bound 144.833s, prune user 31.581s, read disk 116.320s, compute rank 0.014s
	total ip cost 143807512, total predict io cost 0, total refine io cost 8630080, total refine user 16240, IP bound prune ratio 0.9343, rank prune ratio 1.0000
[2022-12-09 05:07:03.337] [info] finish top-100
[2022-12-09 05:07:03.337] [info] top100 retrieval time: total 417.541s, total predict 417.541s
	inner product 154.683s, rank bound 144.625s, prune user 30.689s, read disk 85.916s, compute rank 0.010s
	total ip cost 130478068, total predict io cost 0, total refine io cost 6910976, total refine user 11806, IP bound prune ratio 0.9404, rank prune ratio 1.0000
[2022-12-09 05:13:08.412] [info] finish top-50
[2022-12-09 05:13:08.412] [info] top50 retrieval time: total 365.074s, total predict 365.074s
	inner product 143.867s, rank bound 141.798s, prune user 28.522s, read disk 49.283s, compute rank 0.005s
	total ip cost 104720835, total predict io cost 0, total refine io cost 3109568, total refine user 6572, IP bound prune ratio 0.9522, rank prune ratio 1.0000
[2022-12-09 05:18:19.749] [info] finish top-10
[2022-12-09 05:18:19.749] [info] top10 retrieval time: total 311.336s, total predict 311.336s
	inner product 129.039s, rank bound 138.344s, prune user 26.192s, read disk 16.203s, compute rank 0.001s
	total ip cost 75592809, total predict io cost 0, total refine io cost 755328, total refine user 2014, IP bound prune ratio 0.9655, rank prune ratio 1.0000
[2022-12-09 05:18:19.749] [info] build index time: total 6.466672698s
top250 retrieval time: total 559.099s, total predict 775885.244s
	inner product 162.735s, rank bound 146.190s, prune user 32.904s, read disk 215.555s, compute rank 0.038s
	total ip cost 155249518, total predict io cost 92745048088, total refine io cost 25784896, total refine user 32134, IP bound prune ratio 0.9291, rank prune ratio 0.9980
top200 retrieval time: total 430.280s, total predict 430.280s
	inner product 155.963s, rank bound 145.290s, prune user 32.022s, read disk 95.387s, compute rank 0.009s
	total ip cost 149907039, total predict io cost 0, total refine io cost 1836800, total refine user 13278, IP bound prune ratio 0.9315, rank prune ratio 1.0000
top150 retrieval time: total 451.225s, total predict 451.225s
	inner product 156.842s, rank bound 144.833s, prune user 31.581s, read disk 116.320s, compute rank 0.014s
	total ip cost 143807512, total predict io cost 0, total refine io cost 8630080, total refine user 16240, IP bound prune ratio 0.9343, rank prune ratio 1.0000
top100 retrieval time: total 417.541s, total predict 417.541s
	inner product 154.683s, rank bound 144.625s, prune user 30.689s, read disk 85.916s, compute rank 0.010s
	total ip cost 130478068, total predict io cost 0, total refine io cost 6910976, total refine user 11806, IP bound prune ratio 0.9404, rank prune ratio 1.0000
top50 retrieval time: total 365.074s, total predict 365.074s
	inner product 143.867s, rank bound 141.798s, prune user 28.522s, read disk 49.283s, compute rank 0.005s
	total ip cost 104720835, total predict io cost 0, total refine io cost 3109568, total refine user 6572, IP bound prune ratio 0.9522, rank prune ratio 1.0000
top10 retrieval time: total 311.336s, total predict 311.336s
	inner product 129.039s, rank bound 138.344s, prune user 26.192s, read disk 16.203s, compute rank 0.001s
	total ip cost 75592809, total predict io cost 0, total refine io cost 755328, total refine user 2014, IP bound prune ratio 0.9655, rank prune ratio 1.0000
[2022-12-09 05:18:20.513] [info] QueryRankSampleUniformIntLREstimate dataset_name yahoomusic_big, dataset_dir /home/zhengbian/Dataset/ReverseMIPS
[2022-12-09 05:18:20.513] [info] index_dir /home/zhengbian/reverse-k-ranks/index
[2022-12-09 05:18:25.191] [info] n_data_item 135736, n_query_item 1000, n_user 1823179, vec_dim 150
[2022-12-09 05:18:25.191] [info] input parameter: n_sample 588 n_sample_query 5000 sample_topk 10
[2022-12-09 05:18:26.077] [info] index path /home/zhengbian/reverse-k-ranks/index/memory_index/QueryRankSampleIntLR-yahoomusic_big-n_sample_588-n_sample_query_5000-sample_topk_10.index
0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 16 18 19 21 23 25 27 29 31 33 35 37 39 41 43 45 48 50 53 56 59 62 65 68 71 75 78 80 83 86 89 92 96 101 104 108 112 116 121 125 128 133 138 143 147 152 157 161 165 169 174 179 183 188 193 198 203 210 217 222 228 234 240 246 253 259 266 272 279 288 296 303 311 317 324 332 342 349 357 364 371 381 388 396 404 413 422 431 439 449 459 468 478 488 500 511 522 535 543 552 560 569 578 592 603 619 626 635 646 654 662 672 684 699 711 721 732 743 754 764 777 789 800 818 834 847 861 875 890 907 924 938 956 974 991 1009 1021 1042 1053 1065 1084 1097 1116 1129 1153 1169 1189 1223 1243 1266 1283 1299 1315 1334 1352 1369 1392 1421 1446 1481 1505 1532 1550 1575 1598 1619 1638 1663 1679 1696 1727 1744 1778 1803 1830 1852 1879 1908 1925 1949 1969 1994 2018 2029 2073 2092 2124 2144 2168 2184 2232 2256 2287 2321 2343 2377 2396 2425 2447 2483 2530 2550 2569 2617 2659 2687 2714 2748 2769 2812 2851 2879 2904 2960 3006 3041 3074 3122 3168 3202 3231 3257 3304 3351 3382 3440 3462 3500 3524 3583 3626 3650 3687 3731 3754 3805 3859 3913 3952 4001 4038 4088 4159 4211 4266 4308 4351 4384 4409 4465 4500 4543 4608 4646 4711 4740 4819 4899 4933 4981 5029 5077 5130 5171 5211 5247 5342 5430 5514 5539 5620 5661 5778 5843 5917 5977 6010 6074 6143 6182 6228 6312 6332 6394 6461 6506 6532 6584 6670 6718 6772 6867 6966 7040 7110 7217 7271 7362 7416 7467 7571 7678 7728 7771 7827 7881 7936 8035 8107 8171 8257 8323 8432 8562 8637 8756 8789 8953 9039 9070 9163 9232 9303 9430 9494 9571 9655 9766 9830 9931 10016 10080 10174 10319 10390 10458 10523 10635 10790 10868 10986 11092 11173 11245 11347 11577 11654 11793 11881 12014 12223 12266 12382 12460 12559 12671 12825 12870 12960 13049 13094 13292 13429 13483 13595 13635 13700 13755 13822 14077 14128 14315 14445 14514 14572 14776 14899 15100 15160 15347 15426 15540 15721 16043 16700 16861 16945 17272 17303 17442 17546 17663 17927 18063 18170 18266 18471 18788 18870 19006 19125 19186 19318 19474 19550 20218 20322 20388 20605 20631 21095 21158 21370 21486 21569 21666 21776 22169 22333 22480 22811 23262 23427 23581 23732 23903 24274 24279 24747 24945 25096 25549 25786 25945 26104 26144 26287 26539 26892 27055 27162 27356 27408 27721 27877 27978 28205 28440 28733 28805 29066 29235 29528 30083 30126 30265 30516 30999 31413 31616 31644 32034 32199 32811 33100 33234 34355 34827 35546 36303 36508 37454 37570 37615 37729 38496 38789 38937 39258 40138 40623 40889 40970 41107 41607 41642 42144 42432 42520 42662 42775 42844 43064 43171 43423 43432 44152 45121 45661 45775 46354 46635 46917 47419 47833 48300 48340 49348 49748 49910 50410 50999 51846 51878 52580 53088 53174 53287 53694 53950 54230 54764 55284 55587 56437 56473 56602 56747 57159 57309 57540 57917 58368 58572 59930 60019 60181 60250 60358 61511 61865 61914 62154 62219 62363 62715 63273 63562 64353 64571 64636 64877 65169 65391 65476 65560 66357 66436 66942 66986 67166 67289 67532 68589 70273 70318 70887 71684 74375 74662 75620 77156 78834 
[2022-12-09 05:18:31.167] [info] index path /home/zhengbian/reverse-k-ranks/index/memory_index/UniformLinearRegression-yahoomusic_big-n_sample_588-n_sample_query_5000-sample_topk_10.index
[2022-12-09 05:18:31.242] [info] finish preprocess and save the index
[2022-12-09 05:25:11.510] [info] finish top-250
[2022-12-09 05:25:11.510] [info] top250 retrieval time: total 400.263s, total predict 400.263s
	inner product 103.490s, rank bound 29.728s, prune user 19.929s, read disk 245.712s, compute rank 0.020s
	total ip cost 15506982, total predict io cost 0, total refine io cost 659842688, total refine user 29364, IP bound prune ratio 0.9915, rank prune ratio 1.0000
[2022-12-09 05:31:30.396] [info] finish top-200
[2022-12-09 05:31:30.396] [info] top200 retrieval time: total 378.885s, total predict 378.885s
	inner product 103.320s, rank bound 29.451s, prune user 19.709s, read disk 224.997s, compute rank 0.018s
	total ip cost 14204325, total predict io cost 0, total refine io cost 659484224, total refine user 26617, IP bound prune ratio 0.9922, rank prune ratio 1.0000
[2022-12-09 05:37:23.846] [info] finish top-150
[2022-12-09 05:37:23.846] [info] top150 retrieval time: total 353.448s, total predict 353.448s
	inner product 100.979s, rank bound 28.969s, prune user 19.325s, read disk 202.774s, compute rank 0.018s
	total ip cost 12667343, total predict io cost 0, total refine io cost 658197696, total refine user 23575, IP bound prune ratio 0.9931, rank prune ratio 1.0000
[2022-12-09 05:42:51.679] [info] finish top-100
[2022-12-09 05:42:51.679] [info] top100 retrieval time: total 327.832s, total predict 327.832s
	inner product 100.512s, rank bound 28.750s, prune user 19.047s, read disk 178.144s, compute rank 0.014s
	total ip cost 10878580, total predict io cost 0, total refine io cost 657163840, total refine user 20313, IP bound prune ratio 0.9940, rank prune ratio 1.0000
[2022-12-09 05:47:47.035] [info] finish top-50
[2022-12-09 05:47:47.035] [info] top50 retrieval time: total 295.355s, total predict 295.355s
	inner product 97.593s, rank bound 27.834s, prune user 18.502s, read disk 150.064s, compute rank 0.012s
	total ip cost 8587909, total predict io cost 0, total refine io cost 656643456, total refine user 16776, IP bound prune ratio 0.9953, rank prune ratio 1.0000
[2022-12-09 05:50:28.182] [info] finish top-10
[2022-12-09 05:50:28.183] [info] top10 retrieval time: total 161.147s, total predict 161.147s
	inner product 96.277s, rank bound 27.674s, prune user 18.020s, read disk 17.851s, compute rank 0.000s
	total ip cost 5270253, total predict io cost 0, total refine io cost 171392, total refine user 1606, IP bound prune ratio 0.9971, rank prune ratio 1.0000
[2022-12-09 05:50:28.183] [info] build index time: total 6.051382103s
top250 retrieval time: total 400.263s, total predict 400.263s
	inner product 103.490s, rank bound 29.728s, prune user 19.929s, read disk 245.712s, compute rank 0.020s
	total ip cost 15506982, total predict io cost 0, total refine io cost 659842688, total refine user 29364, IP bound prune ratio 0.9915, rank prune ratio 1.0000
top200 retrieval time: total 378.885s, total predict 378.885s
	inner product 103.320s, rank bound 29.451s, prune user 19.709s, read disk 224.997s, compute rank 0.018s
	total ip cost 14204325, total predict io cost 0, total refine io cost 659484224, total refine user 26617, IP bound prune ratio 0.9922, rank prune ratio 1.0000
top150 retrieval time: total 353.448s, total predict 353.448s
	inner product 100.979s, rank bound 28.969s, prune user 19.325s, read disk 202.774s, compute rank 0.018s
	total ip cost 12667343, total predict io cost 0, total refine io cost 658197696, total refine user 23575, IP bound prune ratio 0.9931, rank prune ratio 1.0000
top100 retrieval time: total 327.832s, total predict 327.832s
	inner product 100.512s, rank bound 28.750s, prune user 19.047s, read disk 178.144s, compute rank 0.014s
	total ip cost 10878580, total predict io cost 0, total refine io cost 657163840, total refine user 20313, IP bound prune ratio 0.9940, rank prune ratio 1.0000
top50 retrieval time: total 295.355s, total predict 295.355s
	inner product 97.593s, rank bound 27.834s, prune user 18.502s, read disk 150.064s, compute rank 0.012s
	total ip cost 8587909, total predict io cost 0, total refine io cost 656643456, total refine user 16776, IP bound prune ratio 0.9953, rank prune ratio 1.0000
top10 retrieval time: total 161.147s, total predict 161.147s
	inner product 96.277s, rank bound 27.674s, prune user 18.020s, read disk 17.851s, compute rank 0.000s
	total ip cost 5270253, total predict io cost 0, total refine io cost 171392, total refine user 1606, IP bound prune ratio 0.9971, rank prune ratio 1.0000
[2022-12-09 05:50:28.921] [info] QueryRankSampleMinMaxIntLREstimate dataset_name yelp, dataset_dir /home/zhengbian/Dataset/ReverseMIPS
[2022-12-09 05:50:28.921] [info] index_dir /home/zhengbian/reverse-k-ranks/index
[2022-12-09 05:50:34.468] [info] n_data_item 159585, n_query_item 1000, n_user 2189457, vec_dim 150
[2022-12-09 05:50:34.468] [info] input parameter: n_sample 490 n_sample_query 5000 sample_topk 10
[2022-12-09 05:50:35.524] [info] index path /home/zhengbian/reverse-k-ranks/index/memory_index/QueryRankSampleIntLR-yelp-n_sample_490-n_sample_query_5000-sample_topk_10.index
0 1 2 3 4 5 6 8 10 11 13 15 17 19 21 23 25 27 29 32 34 37 40 43 46 49 53 57 60 64 67 70 75 79 83 88 93 98 103 108 113 119 124 130 135 141 148 154 161 169 175 183 189 195 203 210 216 222 228 236 244 252 261 270 278 285 295 304 313 322 329 339 347 357 366 379 391 406 419 432 445 455 469 482 493 504 514 528 540 551 562 577 593 604 620 637 654 668 683 703 717 735 750 766 788 805 817 824 842 859 876 899 914 931 950 968 985 1011 1033 1054 1081 1105 1128 1144 1165 1181 1211 1229 1245 1267 1290 1306 1330 1352 1380 1403 1429 1460 1481 1509 1532 1558 1586 1612 1631 1666 1704 1737 1771 1772 1800 1826 1855 1887 1920 1937 1961 1985 2012 2047 2078 2116 2146 2176 2214 2260 2289 2330 2366 2403 2444 2492 2528 2576 2619 2654 2692 2726 2765 2810 2849 2920 2965 3002 3056 3074 3126 3139 3167 3188 3256 3296 3357 3388 3425 3462 3517 3558 3588 3645 3688 3731 3783 3827 3890 3915 4001 4056 4117 4151 4205 4255 4282 4354 4387 4438 4512 4559 4637 4689 4760 4800 4859 4914 4989 5074 5191 5258 5337 5431 5494 5552 5633 5784 5872 5929 6033 6088 6194 6261 6367 6479 6561 6698 6789 6871 6942 7142 7191 7289 7385 7483 7530 7625 7703 7742 7817 7876 7962 8011 8095 8180 8230 8348 8451 8556 8657 8807 8933 9092 9163 9196 9338 9381 9501 9614 9739 9801 9968 10076 10247 10345 10550 10621 10694 10747 10864 10967 11032 11104 11284 11407 11479 11582 11654 11746 11839 12016 12096 12274 12415 12585 12701 12892 13090 13157 13234 13430 13504 13775 14296 14413 14507 14546 14801 14912 15037 15263 15397 15582 15742 15921 16128 16421 16548 16642 16803 17053 17204 17314 17730 17797 17849 18013 18125 18404 18554 18751 19068 19353 19420 19563 19721 19871 20237 20339 20455 20635 20849 21262 21404 21517 21699 22096 22183 22359 22609 23061 23209 23386 24008 24139 24246 24975 25070 25354 25573 25834 26190 26579 27229 27488 27814 28196 28442 28534 29117 29309 30175 30970 31051 31479 31910 32034 32227 32354 32875 33510 33629 34145 34469 34705 34884 34976 35123 35276 35562 35935 36284 36565 36880 37197 37795 38545 38953 39069 40122 40592 41022 41273 41989 42399 42569 43631 44970 45053 48195 48352 49209 49895 50053 50615 51185 54276 57057 57405 57516 57995 58697 60523 60773 61398 63033 64556 65404 66386 67631 68790 70407 72048 72351 74479 75284 77459 78135 78663 79218 79768 80138 80285 80510 80790 81482 84399 86863 87017 89342 91039 94286 94712 94821 95747 96279 98177 98622 98947 99818 100400 101160 102653 104586 104933 105422 106109 107810 108341 108778 108968 110649 112244 113604 114543 116368 117732 119158 122998 123107 125034 126876 128727 
[2022-12-09 05:50:40.596] [info] index path /home/zhengbian/reverse-k-ranks/index/memory_index/MinMaxLinearRegression-yelp-n_sample_490-n_sample_query_5000-sample_topk_10.index
[2022-12-09 05:50:40.686] [info] finish preprocess and save the index
[2022-12-09 05:52:33.818] [info] queryID 215, n_prune_user 0, n_result_user 154, total_predicite_IO_cost 67557511974, tmp_refine_user_size 2189303
[2022-12-09 05:58:29.929] [info] finish top-250
[2022-12-09 05:58:29.929] [info] top250 retrieval time: total 469.239s, total predict 868859.596s
	inner product 135.580s, rank bound 155.556s, prune user 26.813s, read disk 149.626s, compute rank 0.019s
	total ip cost 65831602, total predict io cost 67557511974, total refine io cost 11640320, total refine user 21009, IP bound prune ratio 0.9699, rank prune ratio 0.9990
[2022-12-09 06:00:19.327] [info] queryID 215, n_prune_user 0, n_result_user 154, total_predicite_IO_cost 67557511974, tmp_refine_user_size 2189303
[2022-12-09 06:05:52.132] [info] finish top-200
[2022-12-09 06:05:52.132] [info] top200 retrieval time: total 442.201s, total predict 814426.703s
	inner product 134.177s, rank bound 155.629s, prune user 26.455s, read disk 124.285s, compute rank 0.015s
	total ip cost 62058158, total predict io cost 67557511974, total refine io cost 10315136, total refine user 17523, IP bound prune ratio 0.9717, rank prune ratio 0.9990
[2022-12-09 06:12:54.693] [info] finish top-150
[2022-12-09 06:12:54.693] [info] top150 retrieval time: total 422.559s, total predict 422.559s
	inner product 133.369s, rank bound 155.145s, prune user 25.933s, read disk 106.474s, compute rank 0.013s
	total ip cost 58312693, total predict io cost 0, total refine io cost 9762816, total refine user 14762, IP bound prune ratio 0.9734, rank prune ratio 1.0000
[2022-12-09 06:19:30.665] [info] finish top-100
[2022-12-09 06:19:30.665] [info] top100 retrieval time: total 395.971s, total predict 395.971s
	inner product 132.884s, rank bound 155.153s, prune user 25.553s, read disk 80.764s, compute rank 0.009s
	total ip cost 54596552, total predict io cost 0, total refine io cost 8103296, total refine user 11173, IP bound prune ratio 0.9751, rank prune ratio 1.0000
[2022-12-09 06:25:27.081] [info] finish top-50
[2022-12-09 06:25:27.081] [info] top50 retrieval time: total 356.415s, total predict 356.415s
	inner product 125.337s, rank bound 153.064s, prune user 24.469s, read disk 51.953s, compute rank 0.006s
	total ip cost 45302097, total predict io cost 0, total refine io cost 7171008, total refine user 7107, IP bound prune ratio 0.9793, rank prune ratio 1.0000
[2022-12-09 06:30:41.500] [info] finish top-10
[2022-12-09 06:30:41.500] [info] top10 retrieval time: total 314.419s, total predict 314.419s
	inner product 116.576s, rank bound 150.721s, prune user 22.884s, read disk 22.689s, compute rank 0.004s
	total ip cost 28779653, total predict io cost 0, total refine io cost 6116736, total refine user 3193, IP bound prune ratio 0.9869, rank prune ratio 1.0000
[2022-12-09 06:30:41.501] [info] build index time: total 6.217914494s
top250 retrieval time: total 469.239s, total predict 868859.596s
	inner product 135.580s, rank bound 155.556s, prune user 26.813s, read disk 149.626s, compute rank 0.019s
	total ip cost 65831602, total predict io cost 67557511974, total refine io cost 11640320, total refine user 21009, IP bound prune ratio 0.9699, rank prune ratio 0.9990
top200 retrieval time: total 442.201s, total predict 814426.703s
	inner product 134.177s, rank bound 155.629s, prune user 26.455s, read disk 124.285s, compute rank 0.015s
	total ip cost 62058158, total predict io cost 67557511974, total refine io cost 10315136, total refine user 17523, IP bound prune ratio 0.9717, rank prune ratio 0.9990
top150 retrieval time: total 422.559s, total predict 422.559s
	inner product 133.369s, rank bound 155.145s, prune user 25.933s, read disk 106.474s, compute rank 0.013s
	total ip cost 58312693, total predict io cost 0, total refine io cost 9762816, total refine user 14762, IP bound prune ratio 0.9734, rank prune ratio 1.0000
top100 retrieval time: total 395.971s, total predict 395.971s
	inner product 132.884s, rank bound 155.153s, prune user 25.553s, read disk 80.764s, compute rank 0.009s
	total ip cost 54596552, total predict io cost 0, total refine io cost 8103296, total refine user 11173, IP bound prune ratio 0.9751, rank prune ratio 1.0000
top50 retrieval time: total 356.415s, total predict 356.415s
	inner product 125.337s, rank bound 153.064s, prune user 24.469s, read disk 51.953s, compute rank 0.006s
	total ip cost 45302097, total predict io cost 0, total refine io cost 7171008, total refine user 7107, IP bound prune ratio 0.9793, rank prune ratio 1.0000
top10 retrieval time: total 314.419s, total predict 314.419s
	inner product 116.576s, rank bound 150.721s, prune user 22.884s, read disk 22.689s, compute rank 0.004s
	total ip cost 28779653, total predict io cost 0, total refine io cost 6116736, total refine user 3193, IP bound prune ratio 0.9869, rank prune ratio 1.0000
[2022-12-09 06:30:42.264] [info] QueryRankSampleUniformIntLREstimate dataset_name yahoomusic_big, dataset_dir /home/zhengbian/Dataset/ReverseMIPS
[2022-12-09 06:30:42.264] [info] index_dir /home/zhengbian/reverse-k-ranks/index
[2022-12-09 06:30:46.923] [info] n_data_item 135736, n_query_item 1000, n_user 1823179, vec_dim 150
[2022-12-09 06:30:46.923] [info] input parameter: n_sample 588 n_sample_query 5000 sample_topk 50
[2022-12-09 06:30:47.811] [info] index path /home/zhengbian/reverse-k-ranks/index/memory_index/QueryRankSampleIntLR-yahoomusic_big-n_sample_588-n_sample_query_5000-sample_topk_50.index
0 1 2 3 4 5 6 7 8 9 10 12 14 15 17 19 21 23 25 27 29 31 34 36 39 42 44 47 50 53 56 59 62 65 68 71 75 78 81 84 88 92 96 100 105 109 114 119 123 127 131 136 141 146 150 155 160 164 169 174 179 184 190 195 202 209 214 219 227 234 241 247 253 259 266 273 280 286 293 299 307 314 322 330 338 345 355 364 373 382 388 396 404 412 420 431 441 450 459 469 478 489 501 512 524 533 545 555 569 579 591 601 611 622 639 649 660 671 683 691 704 718 732 745 760 774 788 803 817 833 849 862 876 888 900 913 926 943 959 974 988 1001 1023 1037 1054 1075 1095 1111 1130 1146 1164 1185 1195 1211 1230 1249 1267 1291 1313 1335 1361 1380 1394 1413 1433 1453 1471 1491 1508 1535 1568 1589 1612 1638 1660 1679 1701 1725 1745 1771 1791 1818 1848 1877 1899 1927 1956 1990 2017 2044 2066 2098 2131 2161 2196 2222 2249 2287 2319 2351 2383 2428 2460 2491 2522 2563 2592 2628 2657 2691 2740 2778 2815 2847 2883 2913 2963 2996 3035 3061 3099 3142 3179 3223 3254 3297 3334 3372 3400 3441 3465 3508 3552 3607 3650 3704 3742 3777 3810 3860 3897 3937 3982 4029 4063 4112 4159 4213 4258 4308 4358 4397 4444 4506 4557 4612 4653 4716 4773 4819 4884 4942 4988 5033 5069 5146 5211 5267 5309 5363 5425 5480 5531 5568 5630 5694 5768 5837 5906 5938 6034 6081 6138 6213 6292 6335 6406 6459 6509 6608 6679 6767 6829 6912 7019 7079 7137 7193 7311 7356 7421 7485 7530 7659 7713 7793 7859 7906 7962 8091 8144 8244 8319 8395 8477 8563 8633 8690 8765 8854 8947 9032 9140 9206 9283 9331 9424 9584 9631 9683 9726 9874 9986 10078 10247 10358 10468 10541 10601 10685 10705 10791 10911 11059 11122 11181 11346 11502 11594 11752 11834 12042 12179 12333 12411 12469 12581 12657 12764 12869 12955 13045 13141 13286 13388 13576 13658 13731 13893 13983 14077 14172 14451 14575 14817 14859 15047 15139 15306 15410 15537 15686 15825 15903 15976 16044 16202 16339 16446 16620 16843 17008 17148 17306 17412 17625 17771 17908 18034 18334 18486 18644 18744 18882 18957 19100 19350 19460 19605 19766 20154 20441 20700 20711 21124 21347 21588 21861 22007 22105 22379 22557 22932 23109 23293 23397 23835 24030 24167 24479 24585 24746 24921 25171 25416 25588 25784 25955 26417 26667 26835 27043 27179 27473 27503 27804 28077 28376 28490 28636 28976 29122 29932 30124 30292 30608 30662 30802 31165 31313 31411 31674 31871 32031 32523 32638 32765 32889 33228 33269 33680 33790 34179 34994 35861 36101 36219 36571 36804 37036 37180 37472 38362 38574 39175 39346 40257 40346 41063 41223 41990 43455 43712 43785 44239 45130 45248 45631 45642 46460 46512 46760 46967 47434 47479 47650 48031 48260 48502 48633 49026 49298 49426 49881 50070 51236 51342 51688 51853 52127 52673 52888 53285 53306 54106 54678 55001 55529 56005 56097 56357 56590 57418 57706 58409 58558 58670 58763 59138 60148 60445 60689 60805 61123 61252 61667 62319 62518 62898 63340 63572 64062 64266 64433 64954 64955 65168 65625 65641 66065 66228 66347 66906 67386 67947 68083 68186 68324 68552 68811 69971 70145 70413 70629 71180 71234 71567 71915 73016 74929 75144 75738 76749 79267 80173 80786 82173 83481 
[2022-12-09 06:30:52.878] [info] index path /home/zhengbian/reverse-k-ranks/index/memory_index/UniformLinearRegression-yahoomusic_big-n_sample_588-n_sample_query_5000-sample_topk_50.index
[2022-12-09 06:30:52.954] [info] finish preprocess and save the index
[2022-12-09 06:39:16.764] [info] finish top-250
[2022-12-09 06:39:16.764] [info] top250 retrieval time: total 503.807s, total predict 503.807s
	inner product 103.262s, rank bound 29.695s, prune user 20.100s, read disk 349.272s, compute rank 0.059s
	total ip cost 16216597, total predict io cost 0, total refine io cost 1284128000, total refine user 42769, IP bound prune ratio 0.9911, rank prune ratio 1.0000
[2022-12-09 06:47:15.935] [info] finish top-200
[2022-12-09 06:47:15.935] [info] top200 retrieval time: total 479.169s, total predict 479.169s
	inner product 102.868s, rank bound 29.360s, prune user 19.800s, read disk 325.641s, compute rank 0.067s
	total ip cost 14826005, total predict io cost 0, total refine io cost 1283476224, total refine user 39736, IP bound prune ratio 0.9919, rank prune ratio 1.0000
[2022-12-09 06:54:52.710] [info] finish top-150
[2022-12-09 06:54:52.710] [info] top150 retrieval time: total 456.773s, total predict 456.773s
	inner product 101.741s, rank bound 28.974s, prune user 19.434s, read disk 305.171s, compute rank 0.052s
	total ip cost 13194582, total predict io cost 0, total refine io cost 1282650176, total refine user 36973, IP bound prune ratio 0.9928, rank prune ratio 1.0000
[2022-12-09 06:58:42.652] [info] finish top-100
[2022-12-09 06:58:42.652] [info] top100 retrieval time: total 229.941s, total predict 229.941s
	inner product 99.822s, rank bound 28.503s, prune user 19.119s, read disk 81.149s, compute rank 0.004s
	total ip cost 11299483, total predict io cost 0, total refine io cost 1136128, total refine user 8954, IP bound prune ratio 0.9938, rank prune ratio 1.0000
[2022-12-09 07:02:00.992] [info] finish top-50
[2022-12-09 07:02:00.992] [info] top50 retrieval time: total 198.339s, total predict 198.339s
	inner product 96.663s, rank bound 27.589s, prune user 18.606s, read disk 54.149s, compute rank 0.002s
	total ip cost 8891528, total predict io cost 0, total refine io cost 722688, total refine user 5495, IP bound prune ratio 0.9951, rank prune ratio 1.0000
[2022-12-09 07:04:42.206] [info] finish top-10
[2022-12-09 07:04:42.206] [info] top10 retrieval time: total 161.214s, total predict 161.214s
	inner product 95.696s, rank bound 27.355s, prune user 17.972s, read disk 18.869s, compute rank 0.000s
	total ip cost 5406789, total predict io cost 0, total refine io cost 181120, total refine user 1697, IP bound prune ratio 0.9970, rank prune ratio 1.0000
[2022-12-09 07:04:42.206] [info] build index time: total 6.030594546s
top250 retrieval time: total 503.807s, total predict 503.807s
	inner product 103.262s, rank bound 29.695s, prune user 20.100s, read disk 349.272s, compute rank 0.059s
	total ip cost 16216597, total predict io cost 0, total refine io cost 1284128000, total refine user 42769, IP bound prune ratio 0.9911, rank prune ratio 1.0000
top200 retrieval time: total 479.169s, total predict 479.169s
	inner product 102.868s, rank bound 29.360s, prune user 19.800s, read disk 325.641s, compute rank 0.067s
	total ip cost 14826005, total predict io cost 0, total refine io cost 1283476224, total refine user 39736, IP bound prune ratio 0.9919, rank prune ratio 1.0000
top150 retrieval time: total 456.773s, total predict 456.773s
	inner product 101.741s, rank bound 28.974s, prune user 19.434s, read disk 305.171s, compute rank 0.052s
	total ip cost 13194582, total predict io cost 0, total refine io cost 1282650176, total refine user 36973, IP bound prune ratio 0.9928, rank prune ratio 1.0000
top100 retrieval time: total 229.941s, total predict 229.941s
	inner product 99.822s, rank bound 28.503s, prune user 19.119s, read disk 81.149s, compute rank 0.004s
	total ip cost 11299483, total predict io cost 0, total refine io cost 1136128, total refine user 8954, IP bound prune ratio 0.9938, rank prune ratio 1.0000
top50 retrieval time: total 198.339s, total predict 198.339s
	inner product 96.663s, rank bound 27.589s, prune user 18.606s, read disk 54.149s, compute rank 0.002s
	total ip cost 8891528, total predict io cost 0, total refine io cost 722688, total refine user 5495, IP bound prune ratio 0.9951, rank prune ratio 1.0000
top10 retrieval time: total 161.214s, total predict 161.214s
	inner product 95.696s, rank bound 27.355s, prune user 17.972s, read disk 18.869s, compute rank 0.000s
	total ip cost 5406789, total predict io cost 0, total refine io cost 181120, total refine user 1697, IP bound prune ratio 0.9970, rank prune ratio 1.0000
[2022-12-09 07:04:42.974] [info] QueryRankSampleMinMaxIntLREstimate dataset_name yelp, dataset_dir /home/zhengbian/Dataset/ReverseMIPS
[2022-12-09 07:04:42.974] [info] index_dir /home/zhengbian/reverse-k-ranks/index
[2022-12-09 07:04:48.541] [info] n_data_item 159585, n_query_item 1000, n_user 2189457, vec_dim 150
[2022-12-09 07:04:48.541] [info] input parameter: n_sample 490 n_sample_query 5000 sample_topk 50
[2022-12-09 07:04:49.604] [info] index path /home/zhengbian/reverse-k-ranks/index/memory_index/QueryRankSampleIntLR-yelp-n_sample_490-n_sample_query_5000-sample_topk_50.index
0 1 2 4 6 8 10 12 14 17 19 22 24 27 30 33 36 40 44 48 52 56 60 65 69 74 79 84 89 94 99 105 112 118 125 130 137 144 151 158 165 173 181 189 197 205 214 222 231 240 249 258 267 276 285 295 303 312 322 331 341 352 361 372 382 393 403 414 424 436 448 462 477 489 502 516 529 545 558 574 591 609 617 633 648 668 684 704 723 738 758 775 796 815 833 852 876 897 916 937 957 978 1001 1021 1043 1077 1094 1113 1137 1162 1190 1218 1240 1266 1290 1316 1338 1366 1387 1422 1445 1470 1491 1519 1544 1560 1587 1609 1632 1657 1692 1712 1749 1782 1809 1845 1877 1895 1931 1963 1995 2031 2063 2096 2122 2167 2198 2231 2265 2316 2362 2408 2447 2482 2520 2569 2607 2638 2681 2706 2756 2808 2859 2892 2933 2985 3024 3067 3119 3162 3214 3246 3297 3339 3376 3419 3453 3516 3587 3660 3718 3785 3850 3898 3948 3992 4051 4105 4165 4227 4278 4353 4398 4462 4520 4559 4621 4692 4783 4839 4918 4972 5023 5105 5163 5226 5305 5373 5427 5512 5596 5655 5754 5821 5899 5971 6046 6122 6193 6272 6365 6443 6544 6613 6679 6817 6902 7021 7111 7199 7315 7446 7584 7689 7825 7897 7995 8034 8149 8213 8352 8457 8543 8652 8707 8826 8895 8989 9083 9175 9260 9321 9468 9601 9745 9804 9852 9976 10054 10134 10275 10379 10493 10585 10799 10875 10988 11041 11197 11393 11501 11613 11763 11912 12084 12163 12268 12395 12477 12636 12888 12979 13188 13301 13507 13587 13733 13895 14031 14173 14334 14489 14617 14697 14811 14935 15104 15340 15379 15752 15960 16076 16222 16370 16539 16705 16781 16954 17197 17314 17534 17834 17899 18059 18500 18675 18829 19053 19174 19306 19422 19693 19985 20126 20374 20508 20650 20801 21158 21351 21620 21787 22113 22276 22920 23098 23511 24084 24288 24396 24716 24955 25474 25792 26210 26530 26741 26928 27202 27529 27792 28113 28382 28557 29075 29341 29580 29862 30004 30892 30915 31241 31580 31872 32199 32466 32934 33049 33330 34018 34128 34416 34757 35039 35250 35595 36182 36498 38098 39233 39499 40364 40815 41163 41460 41640 41907 42117 42190 42426 43016 43597 43702 44102 44295 44784 45066 45181 45858 46351 46395 46744 46929 47360 47962 48125 48694 49218 49437 50265 50397 50916 51495 52102 52613 54664 55052 57117 58045 58871 59595 60029 60592 62579 62892 63789 65813 67710 69825 69893 70885 71559 74458 75322 76081 76208 78087 79607 81420 81702 83975 84478 84970 85729 86002 88963 89571 89930 90029 91064 91721 91936 93593 93703 95138 96283 96644 101079 101375 102900 104011 104357 105977 106304 108258 108539 108988 109149 111762 112261 112438 112665 112857 115553 116502 116844 117411 118143 118249 119605 121174 123126 123640 124702 127414 129151 129154 130608 132421 133868 
[2022-12-09 07:04:54.689] [info] index path /home/zhengbian/reverse-k-ranks/index/memory_index/MinMaxLinearRegression-yelp-n_sample_490-n_sample_query_5000-sample_topk_50.index
[2022-12-09 07:04:54.780] [info] finish preprocess and save the index
[2022-12-09 07:12:48.463] [info] finish top-250
[2022-12-09 07:12:48.463] [info] top250 retrieval time: total 473.679s, total predict 473.679s
	inner product 137.244s, rank bound 156.205s, prune user 27.454s, read disk 151.110s, compute rank 0.018s
	total ip cost 65723476, total predict io cost 0, total refine io cost 7282176, total refine user 21406, IP bound prune ratio 0.9700, rank prune ratio 1.0000
[2022-12-09 07:20:17.056] [info] finish top-200
[2022-12-09 07:20:17.056] [info] top200 retrieval time: total 448.591s, total predict 448.591s
	inner product 136.316s, rank bound 156.011s, prune user 27.117s, read disk 127.499s, compute rank 0.014s
	total ip cost 62557096, total predict io cost 0, total refine io cost 5297792, total refine user 17924, IP bound prune ratio 0.9714, rank prune ratio 1.0000
[2022-12-09 07:27:19.901] [info] finish top-150
[2022-12-09 07:27:19.901] [info] top150 retrieval time: total 422.843s, total predict 422.843s
	inner product 134.892s, rank bound 155.684s, prune user 26.597s, read disk 104.033s, compute rank 0.010s
	total ip cost 57584816, total predict io cost 0, total refine io cost 3363520, total refine user 14434, IP bound prune ratio 0.9737, rank prune ratio 1.0000
[2022-12-09 07:33:53.011] [info] finish top-100
[2022-12-09 07:33:53.011] [info] top100 retrieval time: total 393.109s, total predict 393.109s
	inner product 130.221s, rank bound 154.450s, prune user 25.814s, read disk 81.002s, compute rank 0.008s
	total ip cost 51553134, total predict io cost 0, total refine io cost 2882880, total refine user 11146, IP bound prune ratio 0.9765, rank prune ratio 1.0000
[2022-12-09 07:39:45.249] [info] finish top-50
[2022-12-09 07:39:45.249] [info] top50 retrieval time: total 352.238s, total predict 352.238s
	inner product 127.552s, rank bound 153.629s, prune user 24.838s, read disk 44.623s, compute rank 0.003s
	total ip cost 40927567, total predict io cost 0, total refine io cost 1016064, total refine user 5815, IP bound prune ratio 0.9813, rank prune ratio 1.0000
[2022-12-09 07:44:53.001] [info] finish top-10
[2022-12-09 07:44:53.001] [info] top10 retrieval time: total 307.751s, total predict 307.751s
	inner product 117.842s, rank bound 151.291s, prune user 23.450s, read disk 13.611s, compute rank 0.001s
	total ip cost 30996996, total predict io cost 0, total refine io cost 297792, total refine user 1642, IP bound prune ratio 0.9858, rank prune ratio 1.0000
[2022-12-09 07:44:53.001] [info] build index time: total 6.239401579s
top250 retrieval time: total 473.679s, total predict 473.679s
	inner product 137.244s, rank bound 156.205s, prune user 27.454s, read disk 151.110s, compute rank 0.018s
	total ip cost 65723476, total predict io cost 0, total refine io cost 7282176, total refine user 21406, IP bound prune ratio 0.9700, rank prune ratio 1.0000
top200 retrieval time: total 448.591s, total predict 448.591s
	inner product 136.316s, rank bound 156.011s, prune user 27.117s, read disk 127.499s, compute rank 0.014s
	total ip cost 62557096, total predict io cost 0, total refine io cost 5297792, total refine user 17924, IP bound prune ratio 0.9714, rank prune ratio 1.0000
top150 retrieval time: total 422.843s, total predict 422.843s
	inner product 134.892s, rank bound 155.684s, prune user 26.597s, read disk 104.033s, compute rank 0.010s
	total ip cost 57584816, total predict io cost 0, total refine io cost 3363520, total refine user 14434, IP bound prune ratio 0.9737, rank prune ratio 1.0000
top100 retrieval time: total 393.109s, total predict 393.109s
	inner product 130.221s, rank bound 154.450s, prune user 25.814s, read disk 81.002s, compute rank 0.008s
	total ip cost 51553134, total predict io cost 0, total refine io cost 2882880, total refine user 11146, IP bound prune ratio 0.9765, rank prune ratio 1.0000
top50 retrieval time: total 352.238s, total predict 352.238s
	inner product 127.552s, rank bound 153.629s, prune user 24.838s, read disk 44.623s, compute rank 0.003s
	total ip cost 40927567, total predict io cost 0, total refine io cost 1016064, total refine user 5815, IP bound prune ratio 0.9813, rank prune ratio 1.0000
top10 retrieval time: total 307.751s, total predict 307.751s
	inner product 117.842s, rank bound 151.291s, prune user 23.450s, read disk 13.611s, compute rank 0.001s
	total ip cost 30996996, total predict io cost 0, total refine io cost 297792, total refine user 1642, IP bound prune ratio 0.9858, rank prune ratio 1.0000
[2022-12-09 07:44:53.756] [info] QueryRankSampleUniformIntLREstimate dataset_name yahoomusic_big, dataset_dir /home/zhengbian/Dataset/ReverseMIPS
[2022-12-09 07:44:53.756] [info] index_dir /home/zhengbian/reverse-k-ranks/index
[2022-12-09 07:44:58.411] [info] n_data_item 135736, n_query_item 1000, n_user 1823179, vec_dim 150
[2022-12-09 07:44:58.411] [info] input parameter: n_sample 588 n_sample_query 5000 sample_topk 100
[2022-12-09 07:44:59.299] [info] index path /home/zhengbian/reverse-k-ranks/index/memory_index/QueryRankSampleIntLR-yahoomusic_big-n_sample_588-n_sample_query_5000-sample_topk_100.index
0 1 2 3 4 5 7 8 9 11 13 15 17 19 21 23 25 27 29 32 35 38 41 44 47 51 54 57 61 64 68 72 75 79 83 87 91 95 99 103 107 112 117 123 128 134 139 144 149 155 162 167 173 179 184 190 195 202 209 215 222 228 234 242 248 256 263 271 278 285 293 300 308 316 323 334 343 353 361 370 379 389 398 408 418 429 440 454 464 475 487 500 512 525 538 550 563 575 586 598 612 626 640 655 668 683 701 712 725 741 755 770 782 795 807 821 837 855 869 885 900 916 929 944 962 980 997 1014 1033 1054 1073 1091 1108 1124 1142 1158 1179 1193 1214 1234 1250 1271 1293 1323 1345 1375 1399 1424 1444 1468 1493 1513 1546 1571 1594 1616 1652 1674 1702 1727 1750 1771 1797 1821 1853 1878 1901 1927 1965 1990 2024 2051 2088 2117 2147 2188 2224 2254 2296 2330 2369 2406 2430 2477 2511 2547 2583 2617 2650 2683 2715 2759 2792 2827 2860 2903 2932 2986 3026 3064 3106 3161 3203 3229 3274 3343 3382 3417 3463 3494 3526 3577 3624 3680 3739 3785 3824 3879 3950 3989 4027 4073 4137 4185 4228 4283 4345 4385 4445 4503 4547 4614 4684 4748 4807 4868 4910 4964 5024 5091 5156 5203 5269 5328 5372 5430 5499 5549 5625 5684 5717 5767 5839 5898 5945 6002 6061 6123 6188 6245 6309 6402 6481 6561 6641 6702 6775 6832 6913 6961 7021 7079 7135 7180 7253 7348 7403 7459 7565 7645 7717 7814 7847 7946 8031 8099 8189 8259 8307 8406 8545 8616 8733 8781 8878 9009 9084 9163 9219 9332 9430 9497 9583 9676 9759 9825 9902 10007 10062 10211 10305 10386 10447 10530 10621 10687 10788 10883 10972 11046 11119 11253 11343 11483 11514 11646 11798 11889 12019 12127 12190 12297 12378 12478 12622 12716 12806 12947 13138 13272 13386 13535 13649 13755 13892 13990 14187 14303 14408 14505 14643 14886 14978 15111 15224 15319 15512 15644 15796 15912 16126 16374 16482 16737 16840 16957 17058 17171 17442 17593 17691 17926 18059 18270 18448 18620 18825 18964 19152 19215 19326 19516 19598 19737 20006 20124 20241 20424 20604 20718 20804 20951 21187 21368 21431 21640 21769 21843 22050 22195 22360 22581 22792 22998 23258 23388 23541 23898 24085 24542 24672 25013 25762 25875 25981 26427 26501 26728 26947 27143 27312 27464 27628 27892 27982 28085 28240 28570 28722 28830 29525 29657 29840 29983 30156 30512 30719 30817 31686 31856 32055 32213 32350 32655 32859 33127 33266 33491 33963 33965 34434 34496 34684 34797 34949 35334 35458 35611 35780 35854 35996 36167 36344 36551 37330 38843 39073 39244 39413 39633 39849 39996 40137 40319 41081 41341 41665 41966 42211 42320 42609 43366 43696 43723 44059 44171 45658 45678 46606 46659 46924 47114 47263 47612 48092 48223 48789 48871 49049 49086 49327 49659 49901 50647 50752 51018 51318 51692 51906 52262 52266 53383 53442 53751 53930 54688 54939 54986 55285 55705 55981 56262 56896 57332 57759 58273 58548 58722 59195 59268 60033 60480 60686 60882 61120 61347 61584 62424 62750 62858 63083 63281 63862 64150 64570 65274 65882 65926 66308 66357 66738 66982 67494 67595 67918 68323 68700 69026 69422 69526 69777 69980 70053 70371 70536 70732 70894 71177 71719 72272 72413 72752 72902 73152 73444 73672 73725 74346 75426 76790 77379 77775 79481 81771 82101 82662 84204 85852 
[2022-12-09 07:45:04.381] [info] index path /home/zhengbian/reverse-k-ranks/index/memory_index/UniformLinearRegression-yahoomusic_big-n_sample_588-n_sample_query_5000-sample_topk_100.index
[2022-12-09 07:45:04.456] [info] finish preprocess and save the index
[2022-12-09 07:56:54.599] [info] finish top-250
[2022-12-09 07:56:54.599] [info] top250 retrieval time: total 710.139s, total predict 710.139s
	inner product 104.153s, rank bound 28.805s, prune user 19.817s, read disk 555.733s, compute rank 0.130s
	total ip cost 14721721, total predict io cost 0, total refine io cost 2552750144, total refine user 70112, IP bound prune ratio 0.9919, rank prune ratio 1.0000
[2022-12-09 08:01:41.226] [info] finish top-200
[2022-12-09 08:01:41.226] [info] top200 retrieval time: total 286.625s, total predict 286.625s
	inner product 102.920s, rank bound 28.671s, prune user 19.527s, read disk 134.113s, compute rank 0.008s
	total ip cost 13327103, total predict io cost 0, total refine io cost 2270400, total refine user 16001, IP bound prune ratio 0.9927, rank prune ratio 1.0000
[2022-12-09 08:06:04.211] [info] finish top-150
[2022-12-09 08:06:04.211] [info] top150 retrieval time: total 262.983s, total predict 262.983s
	inner product 100.555s, rank bound 28.186s, prune user 19.202s, read disk 113.664s, compute rank 0.006s
	total ip cost 11808689, total predict io cost 0, total refine io cost 1683968, total refine user 13224, IP bound prune ratio 0.9935, rank prune ratio 1.0000
[2022-12-09 08:09:57.393] [info] finish top-100
[2022-12-09 08:09:57.393] [info] top100 retrieval time: total 233.181s, total predict 233.181s
	inner product 98.202s, rank bound 27.851s, prune user 18.822s, read disk 86.936s, compute rank 0.004s
	total ip cost 10005686, total predict io cost 0, total refine io cost 1429568, total refine user 9750, IP bound prune ratio 0.9945, rank prune ratio 1.0000
[2022-12-09 08:13:19.102] [info] finish top-50
[2022-12-09 08:13:19.102] [info] top50 retrieval time: total 201.708s, total predict 201.708s
	inner product 96.937s, rank bound 26.863s, prune user 18.424s, read disk 58.140s, compute rank 0.002s
	total ip cost 7750026, total predict io cost 0, total refine io cost 822144, total refine user 6054, IP bound prune ratio 0.9957, rank prune ratio 1.0000
[2022-12-09 08:15:56.879] [info] finish top-10
[2022-12-09 08:15:56.879] [info] top10 retrieval time: total 157.777s, total predict 157.777s
	inner product 92.594s, rank bound 26.378s, prune user 17.569s, read disk 19.925s, compute rank 0.000s
	total ip cost 4534769, total predict io cost 0, total refine io cost 184832, total refine user 1805, IP bound prune ratio 0.9975, rank prune ratio 1.0000
[2022-12-09 08:15:56.879] [info] build index time: total 6.044924139s
top250 retrieval time: total 710.139s, total predict 710.139s
	inner product 104.153s, rank bound 28.805s, prune user 19.817s, read disk 555.733s, compute rank 0.130s
	total ip cost 14721721, total predict io cost 0, total refine io cost 2552750144, total refine user 70112, IP bound prune ratio 0.9919, rank prune ratio 1.0000
top200 retrieval time: total 286.625s, total predict 286.625s
	inner product 102.920s, rank bound 28.671s, prune user 19.527s, read disk 134.113s, compute rank 0.008s
	total ip cost 13327103, total predict io cost 0, total refine io cost 2270400, total refine user 16001, IP bound prune ratio 0.9927, rank prune ratio 1.0000
top150 retrieval time: total 262.983s, total predict 262.983s
	inner product 100.555s, rank bound 28.186s, prune user 19.202s, read disk 113.664s, compute rank 0.006s
	total ip cost 11808689, total predict io cost 0, total refine io cost 1683968, total refine user 13224, IP bound prune ratio 0.9935, rank prune ratio 1.0000
top100 retrieval time: total 233.181s, total predict 233.181s
	inner product 98.202s, rank bound 27.851s, prune user 18.822s, read disk 86.936s, compute rank 0.004s
	total ip cost 10005686, total predict io cost 0, total refine io cost 1429568, total refine user 9750, IP bound prune ratio 0.9945, rank prune ratio 1.0000
top50 retrieval time: total 201.708s, total predict 201.708s
	inner product 96.937s, rank bound 26.863s, prune user 18.424s, read disk 58.140s, compute rank 0.002s
	total ip cost 7750026, total predict io cost 0, total refine io cost 822144, total refine user 6054, IP bound prune ratio 0.9957, rank prune ratio 1.0000
top10 retrieval time: total 157.777s, total predict 157.777s
	inner product 92.594s, rank bound 26.378s, prune user 17.569s, read disk 19.925s, compute rank 0.000s
	total ip cost 4534769, total predict io cost 0, total refine io cost 184832, total refine user 1805, IP bound prune ratio 0.9975, rank prune ratio 1.0000
[2022-12-09 08:15:57.631] [info] QueryRankSampleMinMaxIntLREstimate dataset_name yelp, dataset_dir /home/zhengbian/Dataset/ReverseMIPS
[2022-12-09 08:15:57.631] [info] index_dir /home/zhengbian/reverse-k-ranks/index
[2022-12-09 08:16:03.216] [info] n_data_item 159585, n_query_item 1000, n_user 2189457, vec_dim 150
[2022-12-09 08:16:03.216] [info] input parameter: n_sample 490 n_sample_query 5000 sample_topk 100
[2022-12-09 08:16:04.279] [info] index path /home/zhengbian/reverse-k-ranks/index/memory_index/QueryRankSampleIntLR-yelp-n_sample_490-n_sample_query_5000-sample_topk_100.index
0 1 2 4 6 9 12 15 18 21 25 28 32 36 40 45 50 54 59 64 70 75 80 85 91 97 104 110 116 122 130 137 144 152 160 167 176 183 190 199 206 216 226 235 245 255 265 273 282 292 302 314 325 335 346 359 371 382 393 404 417 428 440 453 467 480 491 507 520 532 544 559 572 589 604 617 634 652 670 686 705 723 743 761 781 802 820 839 858 878 898 920 937 957 973 993 1017 1034 1060 1078 1102 1124 1144 1168 1192 1221 1247 1282 1310 1344 1370 1399 1424 1448 1483 1507 1534 1562 1593 1617 1647 1683 1717 1749 1784 1812 1846 1882 1916 1947 1978 2007 2038 2067 2093 2134 2168 2204 2244 2284 2322 2355 2393 2424 2474 2523 2566 2615 2647 2698 2752 2802 2847 2889 2940 2985 3020 3063 3111 3170 3209 3244 3300 3333 3388 3437 3487 3540 3591 3652 3714 3752 3822 3876 3950 4009 4075 4126 4185 4230 4304 4354 4411 4468 4555 4642 4726 4794 4847 4905 4980 5064 5130 5212 5304 5383 5463 5531 5591 5662 5722 5802 5888 5997 6087 6193 6256 6352 6422 6503 6623 6691 6798 6883 6972 7068 7145 7249 7348 7450 7547 7645 7751 7829 7966 8084 8151 8239 8302 8403 8517 8661 8849 8941 9103 9213 9320 9399 9431 9514 9614 9726 9792 9865 10024 10068 10208 10371 10467 10661 10759 10856 10963 11078 11105 11239 11399 11488 11630 11760 11895 12013 12124 12228 12418 12539 12778 12989 13146 13278 13386 13505 13717 13856 13963 14124 14310 14399 14680 14853 15018 15145 15326 15533 15684 15820 15971 16243 16475 16617 16783 16918 17113 17390 17563 17689 17938 17952 18275 18581 18730 18872 19041 19202 19391 19596 19766 19797 19914 20265 20448 20846 20950 21191 21548 21861 22014 22113 22408 22733 22951 23178 23409 23587 23875 24195 24374 24641 24940 25031 25354 25827 25928 26468 26576 27011 27284 27595 27922 28119 28510 29293 29394 29816 30188 30695 31023 31323 31685 31953 32179 32420 32690 32885 33255 33329 33782 34323 34606 34886 35098 35508 36151 36598 36825 37484 37789 38323 38485 38763 39047 39468 40002 40378 40655 40994 41355 41843 42043 42216 42646 43139 43475 44115 44253 44569 44796 45145 45642 45826 46363 46667 46995 47384 47719 48410 49588 49828 50161 50516 50916 51000 51310 51564 51940 52527 53735 54201 54298 54698 56241 56540 56886 57393 57939 58329 59087 60365 62062 63588 64104 64475 65363 67167 67284 69063 70253 71611 72961 75195 76291 76987 77846 77959 80634 81024 82570 83424 84400 86351 87122 88914 89468 90278 91691 91705 92648 93613 95619 95968 96489 96882 97380 98906 99581 99961 100290 100463 106705 106832 107259 109297 110297 110777 111059 113128 113385 113771 114814 116037 116327 116733 117251 119478 120504 120971 121392 121753 121959 122793 125192 126802 127407 128301 130997 132071 132469 134869 135203 136342 
[2022-12-09 08:16:09.354] [info] index path /home/zhengbian/reverse-k-ranks/index/memory_index/MinMaxLinearRegression-yelp-n_sample_490-n_sample_query_5000-sample_topk_100.index
[2022-12-09 08:16:09.445] [info] finish preprocess and save the index
[2022-12-09 08:24:20.981] [info] finish top-250
[2022-12-09 08:24:20.981] [info] top250 retrieval time: total 491.532s, total predict 491.532s
	inner product 137.170s, rank bound 142.654s, prune user 27.343s, read disk 182.678s, compute rank 0.027s
	total ip cost 62067577, total predict io cost 0, total refine io cost 9187200, total refine user 26820, IP bound prune ratio 0.9717, rank prune ratio 1.0000
[2022-12-09 08:32:15.199] [info] finish top-200
[2022-12-09 08:32:15.199] [info] top200 retrieval time: total 474.216s, total predict 474.216s
	inner product 136.593s, rank bound 142.619s, prune user 26.935s, read disk 166.402s, compute rank 0.025s
	total ip cost 57956401, total predict io cost 0, total refine io cost 8883776, total refine user 24419, IP bound prune ratio 0.9735, rank prune ratio 1.0000
[2022-12-09 08:39:11.683] [info] finish top-150
[2022-12-09 08:39:11.683] [info] top150 retrieval time: total 416.483s, total predict 416.483s
	inner product 133.323s, rank bound 141.609s, prune user 26.299s, read disk 113.607s, compute rank 0.013s
	total ip cost 51947111, total predict io cost 0, total refine io cost 4399936, total refine user 15897, IP bound prune ratio 0.9763, rank prune ratio 1.0000
[2022-12-09 08:45:27.728] [info] finish top-100
[2022-12-09 08:45:27.728] [info] top100 retrieval time: total 376.043s, total predict 376.043s
	inner product 126.932s, rank bound 139.825s, prune user 25.397s, read disk 82.269s, compute rank 0.007s
	total ip cost 44664239, total predict io cost 0, total refine io cost 2572288, total refine user 11279, IP bound prune ratio 0.9796, rank prune ratio 1.0000
[2022-12-09 08:51:09.611] [info] finish top-50
[2022-12-09 08:51:09.611] [info] top50 retrieval time: total 341.883s, total predict 341.883s
	inner product 125.970s, rank bound 139.589s, prune user 24.723s, read disk 50.007s, compute rank 0.004s
	total ip cost 39349050, total predict io cost 0, total refine io cost 1748352, total refine user 6609, IP bound prune ratio 0.9820, rank prune ratio 1.0000
[2022-12-09 08:56:01.023] [info] finish top-10
[2022-12-09 08:56:01.023] [info] top10 retrieval time: total 291.411s, total predict 291.411s
	inner product 115.541s, rank bound 136.874s, prune user 23.045s, read disk 14.388s, compute rank 0.001s
	total ip cost 23938307, total predict io cost 0, total refine io cost 200832, total refine user 1724, IP bound prune ratio 0.9891, rank prune ratio 1.0000
[2022-12-09 08:56:01.023] [info] build index time: total 6.228298923s
top250 retrieval time: total 491.532s, total predict 491.532s
	inner product 137.170s, rank bound 142.654s, prune user 27.343s, read disk 182.678s, compute rank 0.027s
	total ip cost 62067577, total predict io cost 0, total refine io cost 9187200, total refine user 26820, IP bound prune ratio 0.9717, rank prune ratio 1.0000
top200 retrieval time: total 474.216s, total predict 474.216s
	inner product 136.593s, rank bound 142.619s, prune user 26.935s, read disk 166.402s, compute rank 0.025s
	total ip cost 57956401, total predict io cost 0, total refine io cost 8883776, total refine user 24419, IP bound prune ratio 0.9735, rank prune ratio 1.0000
top150 retrieval time: total 416.483s, total predict 416.483s
	inner product 133.323s, rank bound 141.609s, prune user 26.299s, read disk 113.607s, compute rank 0.013s
	total ip cost 51947111, total predict io cost 0, total refine io cost 4399936, total refine user 15897, IP bound prune ratio 0.9763, rank prune ratio 1.0000
top100 retrieval time: total 376.043s, total predict 376.043s
	inner product 126.932s, rank bound 139.825s, prune user 25.397s, read disk 82.269s, compute rank 0.007s
	total ip cost 44664239, total predict io cost 0, total refine io cost 2572288, total refine user 11279, IP bound prune ratio 0.9796, rank prune ratio 1.0000
top50 retrieval time: total 341.883s, total predict 341.883s
	inner product 125.970s, rank bound 139.589s, prune user 24.723s, read disk 50.007s, compute rank 0.004s
	total ip cost 39349050, total predict io cost 0, total refine io cost 1748352, total refine user 6609, IP bound prune ratio 0.9820, rank prune ratio 1.0000
top10 retrieval time: total 291.411s, total predict 291.411s
	inner product 115.541s, rank bound 136.874s, prune user 23.045s, read disk 14.388s, compute rank 0.001s
	total ip cost 23938307, total predict io cost 0, total refine io cost 200832, total refine user 1724, IP bound prune ratio 0.9891, rank prune ratio 1.0000
[2022-12-09 08:56:01.779] [info] QueryRankSampleUniformIntLREstimate dataset_name yahoomusic_big, dataset_dir /home/zhengbian/Dataset/ReverseMIPS
[2022-12-09 08:56:01.779] [info] index_dir /home/zhengbian/reverse-k-ranks/index
[2022-12-09 08:56:06.417] [info] n_data_item 135736, n_query_item 1000, n_user 1823179, vec_dim 150
[2022-12-09 08:56:06.417] [info] input parameter: n_sample 588 n_sample_query 5000 sample_topk 150
[2022-12-09 08:56:07.304] [info] index path /home/zhengbian/reverse-k-ranks/index/memory_index/QueryRankSampleIntLR-yahoomusic_big-n_sample_588-n_sample_query_5000-sample_topk_150.index
0 1 2 3 4 5 6 8 10 12 14 16 18 20 22 24 27 30 32 35 38 41 44 47 50 54 58 62 66 70 74 78 82 86 90 94 98 103 108 113 119 124 130 136 142 147 154 160 166 172 179 184 191 198 204 211 217 224 232 240 247 255 263 270 278 286 294 302 309 318 328 335 342 351 359 369 378 389 399 410 420 430 440 452 462 473 483 494 504 515 527 539 552 563 577 589 603 615 628 643 652 666 681 697 712 730 748 766 781 796 813 828 845 859 875 895 913 929 947 967 987 1001 1019 1032 1054 1068 1085 1107 1126 1148 1167 1185 1200 1221 1237 1260 1277 1295 1315 1336 1360 1384 1404 1428 1452 1477 1503 1528 1551 1581 1597 1622 1644 1665 1693 1714 1739 1770 1799 1828 1860 1886 1910 1931 1959 1982 2014 2038 2069 2095 2124 2148 2179 2207 2237 2268 2299 2333 2367 2392 2419 2443 2486 2522 2568 2609 2655 2703 2735 2772 2801 2846 2891 2921 2953 2984 3039 3084 3133 3186 3223 3257 3307 3351 3393 3451 3480 3522 3560 3602 3657 3693 3727 3770 3808 3854 3900 3948 3994 4040 4091 4149 4198 4264 4325 4368 4418 4469 4520 4570 4616 4675 4734 4780 4827 4875 4938 5017 5067 5140 5216 5276 5327 5383 5449 5506 5577 5636 5705 5743 5799 5851 5925 5994 6065 6137 6205 6268 6323 6397 6444 6508 6591 6652 6729 6804 6860 6976 7022 7121 7213 7285 7399 7459 7519 7597 7703 7771 7844 7908 7971 8038 8149 8217 8291 8368 8429 8532 8637 8710 8753 8862 8942 9057 9182 9250 9361 9496 9607 9737 9871 9960 10026 10129 10184 10265 10332 10395 10491 10564 10645 10728 10885 11015 11097 11224 11291 11391 11508 11627 11706 11809 11892 11967 12062 12180 12311 12440 12536 12638 12774 12876 12990 13131 13204 13314 13384 13558 13713 13810 13952 14141 14218 14285 14428 14568 14735 14829 15010 15190 15372 15476 15597 15680 15801 15873 16060 16169 16288 16363 16536 16712 16779 16985 17150 17259 17453 17747 17816 17984 18114 18255 18551 18817 18940 19084 19223 19288 19420 19563 19734 19928 20091 20231 20369 20516 20686 20825 20998 21259 21400 21589 21764 21893 22042 22228 22308 22499 22682 22911 23054 23261 23413 23583 23740 24105 24161 24372 24612 24856 24974 25161 25307 25625 26061 26293 26406 26689 27068 27258 27653 27790 28129 28481 28520 28776 28889 29090 29236 29475 29557 30130 30321 30673 30744 30979 31175 31394 31752 31951 32175 32368 32735 33181 33279 33733 33922 34106 34418 34753 34917 35354 35493 35860 36141 36300 36459 36634 36866 37096 37334 37556 37786 38051 38511 38758 39069 39329 40802 40863 41001 41225 41597 41923 42156 42298 42526 43301 43505 43619 43836 44296 44545 44973 45547 45757 46338 47964 48189 48462 48655 48916 49321 49713 50091 50279 50475 51089 51207 51732 52007 52429 52762 52929 53230 53344 53549 53756 54256 54646 55444 55496 55836 55966 56558 56908 57235 57408 57637 58279 58500 58810 58863 59816 59970 60113 60351 60482 60700 60770 61931 62009 62562 62734 62957 63505 63638 63897 64161 64341 64629 64967 65525 65730 66240 66611 67387 67552 67652 67884 68047 68403 68691 68887 69149 69882 69932 70324 70508 70772 71156 71316 71500 71553 71717 72235 72243 72575 73045 73193 73493 74036 74368 74596 74892 75062 75230 75817 76727 78293 79157 79314 81200 83415 83794 84222 85439 87210 
[2022-12-09 08:56:12.382] [info] index path /home/zhengbian/reverse-k-ranks/index/memory_index/UniformLinearRegression-yahoomusic_big-n_sample_588-n_sample_query_5000-sample_topk_150.index
[2022-12-09 08:56:12.457] [info] finish preprocess and save the index
[2022-12-09 09:01:27.318] [info] finish top-250
[2022-12-09 09:01:27.318] [info] top250 retrieval time: total 314.857s, total predict 314.857s
	inner product 104.274s, rank bound 28.823s, prune user 20.000s, read disk 160.349s, compute rank 0.012s
	total ip cost 15797010, total predict io cost 0, total refine io cost 2969408, total refine user 19610, IP bound prune ratio 0.9913, rank prune ratio 1.0000
[2022-12-09 09:06:15.825] [info] finish top-200
[2022-12-09 09:06:15.825] [info] top200 retrieval time: total 288.505s, total predict 288.505s
	inner product 103.372s, rank bound 28.612s, prune user 19.669s, read disk 135.456s, compute rank 0.008s
	total ip cost 14301523, total predict io cost 0, total refine io cost 1893312, total refine user 16216, IP bound prune ratio 0.9922, rank prune ratio 1.0000
[2022-12-09 09:10:40.579] [info] finish top-150
[2022-12-09 09:10:40.579] [info] top150 retrieval time: total 264.752s, total predict 264.752s
	inner product 100.324s, rank bound 28.158s, prune user 19.286s, read disk 115.612s, compute rank 0.006s
	total ip cost 12695989, total predict io cost 0, total refine io cost 1666368, total refine user 13575, IP bound prune ratio 0.9930, rank prune ratio 1.0000
[2022-12-09 09:14:39.023] [info] finish top-100
[2022-12-09 09:14:39.023] [info] top100 retrieval time: total 238.442s, total predict 238.442s
	inner product 101.064s, rank bound 28.182s, prune user 19.054s, read disk 88.768s, compute rank 0.004s
	total ip cost 10801941, total predict io cost 0, total refine io cost 1259136, total refine user 10006, IP bound prune ratio 0.9941, rank prune ratio 1.0000
[2022-12-09 09:18:02.377] [info] finish top-50
[2022-12-09 09:18:02.377] [info] top50 retrieval time: total 203.354s, total predict 203.354s
	inner product 97.816s, rank bound 26.882s, prune user 18.487s, read disk 58.818s, compute rank 0.002s
	total ip cost 8358772, total predict io cost 0, total refine io cost 631808, total refine user 6150, IP bound prune ratio 0.9954, rank prune ratio 1.0000
[2022-12-09 09:20:41.171] [info] finish top-10
[2022-12-09 09:20:41.171] [info] top10 retrieval time: total 158.793s, total predict 158.793s
	inner product 92.972s, rank bound 26.291s, prune user 17.624s, read disk 20.585s, compute rank 0.000s
	total ip cost 4897263, total predict io cost 0, total refine io cost 163392, total refine user 1816, IP bound prune ratio 0.9973, rank prune ratio 1.0000
[2022-12-09 09:20:41.171] [info] build index time: total 6.040496504s
top250 retrieval time: total 314.857s, total predict 314.857s
	inner product 104.274s, rank bound 28.823s, prune user 20.000s, read disk 160.349s, compute rank 0.012s
	total ip cost 15797010, total predict io cost 0, total refine io cost 2969408, total refine user 19610, IP bound prune ratio 0.9913, rank prune ratio 1.0000
top200 retrieval time: total 288.505s, total predict 288.505s
	inner product 103.372s, rank bound 28.612s, prune user 19.669s, read disk 135.456s, compute rank 0.008s
	total ip cost 14301523, total predict io cost 0, total refine io cost 1893312, total refine user 16216, IP bound prune ratio 0.9922, rank prune ratio 1.0000
top150 retrieval time: total 264.752s, total predict 264.752s
	inner product 100.324s, rank bound 28.158s, prune user 19.286s, read disk 115.612s, compute rank 0.006s
	total ip cost 12695989, total predict io cost 0, total refine io cost 1666368, total refine user 13575, IP bound prune ratio 0.9930, rank prune ratio 1.0000
top100 retrieval time: total 238.442s, total predict 238.442s
	inner product 101.064s, rank bound 28.182s, prune user 19.054s, read disk 88.768s, compute rank 0.004s
	total ip cost 10801941, total predict io cost 0, total refine io cost 1259136, total refine user 10006, IP bound prune ratio 0.9941, rank prune ratio 1.0000
top50 retrieval time: total 203.354s, total predict 203.354s
	inner product 97.816s, rank bound 26.882s, prune user 18.487s, read disk 58.818s, compute rank 0.002s
	total ip cost 8358772, total predict io cost 0, total refine io cost 631808, total refine user 6150, IP bound prune ratio 0.9954, rank prune ratio 1.0000
top10 retrieval time: total 158.793s, total predict 158.793s
	inner product 92.972s, rank bound 26.291s, prune user 17.624s, read disk 20.585s, compute rank 0.000s
	total ip cost 4897263, total predict io cost 0, total refine io cost 163392, total refine user 1816, IP bound prune ratio 0.9973, rank prune ratio 1.0000
[2022-12-09 09:20:41.909] [info] QueryRankSampleMinMaxIntLREstimate dataset_name yelp, dataset_dir /home/zhengbian/Dataset/ReverseMIPS
[2022-12-09 09:20:41.909] [info] index_dir /home/zhengbian/reverse-k-ranks/index
[2022-12-09 09:20:47.491] [info] n_data_item 159585, n_query_item 1000, n_user 2189457, vec_dim 150
[2022-12-09 09:20:47.491] [info] input parameter: n_sample 490 n_sample_query 5000 sample_topk 150
[2022-12-09 09:20:48.551] [info] index path /home/zhengbian/reverse-k-ranks/index/memory_index/QueryRankSampleIntLR-yelp-n_sample_490-n_sample_query_5000-sample_topk_150.index
0 2 4 6 9 12 15 18 21 25 29 33 37 41 45 50 55 60 65 71 77 83 88 94 100 108 115 122 129 137 145 153 162 171 180 189 199 207 215 224 234 246 257 267 278 289 299 311 324 337 350 361 374 386 400 413 427 441 455 468 481 495 511 525 542 554 570 585 599 615 630 649 668 685 702 719 739 761 780 798 819 836 859 878 895 919 941 965 987 1011 1033 1060 1082 1104 1125 1148 1173 1199 1223 1250 1278 1302 1328 1355 1384 1415 1440 1481 1514 1541 1574 1601 1643 1680 1708 1745 1779 1811 1840 1876 1903 1934 1969 1998 2029 2065 2105 2145 2183 2217 2255 2291 2324 2354 2391 2439 2481 2539 2579 2631 2673 2704 2734 2778 2833 2887 2949 3001 3039 3091 3145 3189 3244 3291 3341 3385 3443 3444 3502 3558 3616 3665 3732 3814 3875 3939 4000 4053 4150 4196 4255 4305 4373 4440 4501 4571 4624 4679 4768 4833 4892 4965 5046 5102 5178 5254 5374 5445 5504 5581 5652 5717 5796 5882 5965 6036 6104 6208 6263 6325 6407 6457 6554 6642 6695 6784 6898 6991 7059 7176 7268 7382 7496 7563 7683 7824 7891 8035 8143 8217 8311 8416 8507 8605 8706 8836 8975 9162 9256 9329 9490 9500 9591 9670 9764 9877 9954 10054 10179 10258 10412 10520 10612 10713 10837 11026 11154 11208 11296 11408 11501 11614 11738 12046 12300 12436 12677 12758 12843 12991 13128 13248 13380 13549 13682 13962 14110 14300 14473 14650 14791 15073 15219 15362 15549 15652 15789 16057 16189 16513 16693 17013 17196 17332 17525 17774 17953 18010 18185 18396 18614 18768 18975 19236 19489 19737 19934 20022 20273 20382 20524 20734 20980 21213 21496 21693 21941 22144 22429 22805 23034 23254 23434 23742 24024 24281 24424 24547 25010 25215 25407 25617 25832 26255 26510 26822 27298 27628 27836 28152 28486 28660 29063 29427 29671 29858 30143 30414 31015 31258 31706 31939 32488 33094 33412 33787 34023 34194 34393 34905 35019 35217 35701 35992 36260 37003 37228 37596 37987 38292 38578 38790 39064 39533 40097 40535 41371 41925 42128 42243 42341 43073 43345 43758 44292 44470 44701 45055 45350 45597 46171 46301 46676 47054 47303 47544 47855 48329 49386 49671 50030 50500 50866 51467 51620 51838 52140 52676 52852 53267 53749 54786 55068 55266 55889 56558 57164 57660 58178 58501 58639 59338 60795 62130 62492 63987 64521 65411 66764 67066 67500 68494 69126 69405 69741 71650 73501 73614 74258 78004 78037 78744 79494 81097 81628 83818 86812 87538 88118 89830 90853 91362 92861 93868 94677 95064 96470 96537 98414 98939 99936 100473 101106 102013 102674 103123 104000 104135 108918 109288 110029 113012 113254 114027 114265 115409 115795 116285 116701 118375 118656 119634 119779 122207 122829 123162 123577 124105 124412 124635 127224 128966 129153 130169 133201 133583 134377 136537 136778 137562 
[2022-12-09 09:20:53.674] [info] index path /home/zhengbian/reverse-k-ranks/index/memory_index/MinMaxLinearRegression-yelp-n_sample_490-n_sample_query_5000-sample_topk_150.index
[2022-12-09 09:20:53.765] [info] finish preprocess and save the index
[2022-12-09 09:28:45.165] [info] finish top-250
[2022-12-09 09:28:45.165] [info] top250 retrieval time: total 471.395s, total predict 471.395s
	inner product 135.670s, rank bound 141.850s, prune user 27.194s, read disk 165.021s, compute rank 0.020s
	total ip cost 59828643, total predict io cost 0, total refine io cost 5399488, total refine user 23468, IP bound prune ratio 0.9727, rank prune ratio 1.0000
[2022-12-09 09:36:14.536] [info] finish top-200
[2022-12-09 09:36:14.536] [info] top200 retrieval time: total 449.369s, total predict 449.369s
	inner product 134.315s, rank bound 141.587s, prune user 26.731s, read disk 145.074s, compute rank 0.017s
	total ip cost 54749761, total predict io cost 0, total refine io cost 5120000, total refine user 20646, IP bound prune ratio 0.9750, rank prune ratio 1.0000
[2022-12-09 09:43:12.555] [info] finish top-150
[2022-12-09 09:43:12.555] [info] top150 retrieval time: total 418.018s, total predict 418.018s
	inner product 131.371s, rank bound 140.782s, prune user 26.031s, read disk 118.189s, compute rank 0.012s
	total ip cost 48233322, total predict io cost 0, total refine io cost 4071616, total refine user 16595, IP bound prune ratio 0.9780, rank prune ratio 1.0000
[2022-12-09 09:49:38.717] [info] finish top-100
[2022-12-09 09:49:38.717] [info] top100 retrieval time: total 386.160s, total predict 386.160s
	inner product 128.777s, rank bound 139.910s, prune user 25.453s, read disk 90.395s, compute rank 0.009s
	total ip cost 44412352, total predict io cost 0, total refine io cost 1998656, total refine user 12474, IP bound prune ratio 0.9797, rank prune ratio 1.0000
[2022-12-09 09:55:22.102] [info] finish top-50
[2022-12-09 09:55:22.102] [info] top50 retrieval time: total 343.384s, total predict 343.384s
	inner product 125.384s, rank bound 139.193s, prune user 24.686s, read disk 52.527s, compute rank 0.004s
	total ip cost 38790766, total predict io cost 0, total refine io cost 1599360, total refine user 6911, IP bound prune ratio 0.9823, rank prune ratio 1.0000
[2022-12-09 10:00:18.539] [info] finish top-10
[2022-12-09 10:00:18.539] [info] top10 retrieval time: total 296.436s, total predict 296.436s
	inner product 118.434s, rank bound 137.503s, prune user 23.127s, read disk 15.805s, compute rank 0.001s
	total ip cost 22096276, total predict io cost 0, total refine io cost 232576, total refine user 1901, IP bound prune ratio 0.9899, rank prune ratio 1.0000
[2022-12-09 10:00:18.539] [info] build index time: total 6.273576002s
top250 retrieval time: total 471.395s, total predict 471.395s
	inner product 135.670s, rank bound 141.850s, prune user 27.194s, read disk 165.021s, compute rank 0.020s
	total ip cost 59828643, total predict io cost 0, total refine io cost 5399488, total refine user 23468, IP bound prune ratio 0.9727, rank prune ratio 1.0000
top200 retrieval time: total 449.369s, total predict 449.369s
	inner product 134.315s, rank bound 141.587s, prune user 26.731s, read disk 145.074s, compute rank 0.017s
	total ip cost 54749761, total predict io cost 0, total refine io cost 5120000, total refine user 20646, IP bound prune ratio 0.9750, rank prune ratio 1.0000
top150 retrieval time: total 418.018s, total predict 418.018s
	inner product 131.371s, rank bound 140.782s, prune user 26.031s, read disk 118.189s, compute rank 0.012s
	total ip cost 48233322, total predict io cost 0, total refine io cost 4071616, total refine user 16595, IP bound prune ratio 0.9780, rank prune ratio 1.0000
top100 retrieval time: total 386.160s, total predict 386.160s
	inner product 128.777s, rank bound 139.910s, prune user 25.453s, read disk 90.395s, compute rank 0.009s
	total ip cost 44412352, total predict io cost 0, total refine io cost 1998656, total refine user 12474, IP bound prune ratio 0.9797, rank prune ratio 1.0000
top50 retrieval time: total 343.384s, total predict 343.384s
	inner product 125.384s, rank bound 139.193s, prune user 24.686s, read disk 52.527s, compute rank 0.004s
	total ip cost 38790766, total predict io cost 0, total refine io cost 1599360, total refine user 6911, IP bound prune ratio 0.9823, rank prune ratio 1.0000
top10 retrieval time: total 296.436s, total predict 296.436s
	inner product 118.434s, rank bound 137.503s, prune user 23.127s, read disk 15.805s, compute rank 0.001s
	total ip cost 22096276, total predict io cost 0, total refine io cost 232576, total refine user 1901, IP bound prune ratio 0.9899, rank prune ratio 1.0000
[2022-12-09 10:00:19.298] [info] QueryRankSampleUniformIntLREstimate dataset_name yahoomusic_big, dataset_dir /home/zhengbian/Dataset/ReverseMIPS
[2022-12-09 10:00:19.298] [info] index_dir /home/zhengbian/reverse-k-ranks/index
[2022-12-09 10:00:24.010] [info] n_data_item 135736, n_query_item 1000, n_user 1823179, vec_dim 150
[2022-12-09 10:00:24.010] [info] input parameter: n_sample 588 n_sample_query 5000 sample_topk 200
[2022-12-09 10:00:24.901] [info] index path /home/zhengbian/reverse-k-ranks/index/memory_index/QueryRankSampleIntLR-yahoomusic_big-n_sample_588-n_sample_query_5000-sample_topk_200.index
0 1 2 3 4 5 7 9 11 13 15 17 19 21 23 25 27 30 33 36 39 42 45 48 51 55 59 63 66 70 74 78 83 88 92 97 102 106 111 117 122 128 134 140 146 152 158 164 171 177 183 189 195 203 210 217 225 233 240 247 254 262 271 279 288 297 305 313 323 333 342 352 361 370 379 388 397 408 417 428 438 450 462 471 481 491 501 514 527 539 550 565 580 594 608 623 637 651 665 680 696 711 726 740 756 772 788 806 821 838 852 869 884 901 919 939 959 980 998 1017 1038 1062 1076 1096 1117 1133 1157 1177 1199 1221 1242 1267 1289 1313 1336 1354 1376 1398 1416 1434 1459 1481 1503 1526 1543 1563 1588 1614 1639 1670 1695 1720 1746 1781 1807 1831 1863 1895 1924 1961 1991 2018 2049 2082 2104 2134 2156 2194 2223 2259 2281 2319 2344 2378 2415 2446 2484 2508 2540 2576 2612 2644 2685 2722 2764 2811 2854 2893 2928 2974 3016 3058 3094 3123 3154 3223 3256 3301 3342 3383 3429 3468 3502 3557 3608 3646 3695 3742 3806 3850 3905 3960 4013 4061 4108 4152 4216 4266 4317 4358 4428 4496 4564 4634 4690 4728 4777 4849 4895 4945 5011 5063 5125 5190 5233 5302 5369 5440 5497 5545 5609 5657 5738 5819 5882 5956 6003 6079 6145 6202 6280 6364 6436 6506 6597 6652 6736 6810 6882 6944 7000 7071 7150 7202 7268 7335 7390 7469 7564 7693 7764 7848 7943 8040 8109 8220 8320 8412 8496 8573 8671 8767 8864 8937 9005 9123 9202 9281 9363 9481 9559 9645 9768 9882 9967 10052 10151 10280 10369 10498 10625 10728 10821 10949 11028 11106 11226 11302 11408 11527 11631 11702 11831 11923 12049 12211 12307 12419 12539 12631 12709 12805 12850 12960 13066 13204 13290 13445 13521 13591 13750 13859 13973 14120 14287 14396 14517 14612 14769 14831 14970 15062 15255 15408 15523 15642 15774 15957 16185 16327 16444 16579 16770 16916 17058 17191 17362 17498 17772 17897 18024 18269 18397 18535 18651 18770 18943 19125 19334 19532 19814 19963 20112 20259 20427 20605 20722 20848 20929 21031 21199 21368 21683 21810 21975 22231 22281 22590 22758 22922 23139 23316 23447 23562 23736 23954 24027 24252 24405 24591 24708 24903 25096 25569 25741 25885 26015 26294 26568 26782 27289 27369 27932 28098 28208 28736 28889 29061 29241 29784 29989 30130 30369 30520 30750 30889 31118 31430 31589 31937 32146 32431 32591 32897 33202 33432 33648 33802 34077 34256 35051 35180 35378 35681 35983 36223 36400 36747 36818 37390 37524 37748 37845 38011 38236 38469 38724 38885 39061 39384 39835 40017 40289 40599 40925 41274 41982 42170 42331 42548 42786 43324 43467 43672 43860 44355 44525 44653 44825 45101 45180 46204 46235 46722 46986 47196 48094 48842 49313 49703 49766 50212 50467 50733 50922 51538 51604 51951 52257 52687 53005 53521 53621 53819 53935 54030 54346 54525 54748 54832 55400 55679 56569 56847 56970 57574 58156 58456 58726 59001 59376 59728 59843 60086 60814 61183 61726 61912 62434 62805 63158 63351 63686 64121 64371 64590 64971 65331 65448 65571 65802 66213 66400 67312 67512 68140 68580 68883 69106 69272 69470 69602 69923 70136 70888 71078 71447 71804 71899 72160 72342 72548 72882 73073 73433 73670 73919 74148 74423 74564 74943 75284 75486 75681 75940 75976 76229 77057 77686 79326 80097 80121 82424 84451 84987 85292 86218 88226 
[2022-12-09 10:00:30.002] [info] index path /home/zhengbian/reverse-k-ranks/index/memory_index/UniformLinearRegression-yahoomusic_big-n_sample_588-n_sample_query_5000-sample_topk_200.index
[2022-12-09 10:00:30.077] [info] finish preprocess and save the index
[2022-12-09 10:05:43.777] [info] finish top-250
[2022-12-09 10:05:43.777] [info] top250 retrieval time: total 313.696s, total predict 313.696s
	inner product 104.056s, rank bound 28.369s, prune user 19.850s, read disk 160.009s, compute rank 0.011s
	total ip cost 15204356, total predict io cost 0, total refine io cost 2281600, total refine user 19490, IP bound prune ratio 0.9917, rank prune ratio 1.0000
[2022-12-09 10:10:33.013] [info] finish top-200
[2022-12-09 10:10:33.013] [info] top200 retrieval time: total 289.234s, total predict 289.234s
	inner product 102.421s, rank bound 28.328s, prune user 19.540s, read disk 137.549s, compute rank 0.008s
	total ip cost 13730899, total predict io cost 0, total refine io cost 1786880, total refine user 16547, IP bound prune ratio 0.9925, rank prune ratio 1.0000
[2022-12-09 10:14:59.381] [info] finish top-150
[2022-12-09 10:14:59.381] [info] top150 retrieval time: total 266.366s, total predict 266.366s
	inner product 100.758s, rank bound 27.720s, prune user 19.208s, read disk 117.296s, compute rank 0.007s
	total ip cost 12179982, total predict io cost 0, total refine io cost 1633920, total refine user 13742, IP bound prune ratio 0.9933, rank prune ratio 1.0000
